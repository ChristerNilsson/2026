// Generated by CoffeeScript 2.7.0
var D, Knight, N, Player, game, player1, player2, range;

import {
  button,
  div,
  span,
  table,
  tr,
  td
} from "https://cdn.jsdelivr.net/gh/sigmentjs/sigment-ng@1.3.4/dist/index.js";

import _ from "https://cdn.jsdelivr.net/npm/lodash-es@4.17.21/lodash.js";

import {
  echo,
  Game
} from "./game.js";

N = 8;

D = [[-2, 1], [-1, 2], [1, 2], [2, 1], [-2, -1], [-1, -2], [1, -2], [2, -1]];

range = _.range;

player1 = null;

player2 = null;

game = null;

export var pretty = function([x, y]) {
  return "abcdefgh"[x] + "12345678"[y];
};

export var renderMoves = function(moves, cpu) {
  var move;
  return div({
    style: "display:flex; flex-direction:column; gap:2px; min-width:36px; text-align:center;"
  }, div({
    style: "text-align:center;"
  }, `${cpu}`), (function() {
    var k, len, results;
    results = [];
    for (k = 0, len = moves.length; k < len; k++) {
      move = moves[k];
      results.push(div({
        style: "text-align:center;"
      }, pretty(move)));
    }
    return results;
  })());
};

Knight = class Knight extends Game {
  constructor(ops, minimum, medium, maximum, level) {
    super();
    this.ops = ops;
    this.minimum = minimum;
    this.medium = medium;
    this.maximum = maximum;
    this.level = level;
  }

  createStart() {
    return [_.random(this.minimum, this.maximum), _.random(this.minimum, this.maximum)];
  }

  pretty(z) {
    return "abcdefghijklmnop"[z[0] - 1] + `${z[1]}`;
  }

  ok(temp) {
    var ref, ref1;
    return (this.minimum <= (ref = temp[0]) && ref <= this.maximum) && (this.minimum <= (ref1 = temp[1]) && ref1 <= this.maximum);
  }

  remount() {
    var app;
    app = document.getElementById("app");
    return app.replaceChildren(div({}, div({
      style: "display:flex; gap:20px; align-items:flex-start"
    }, this.player1.render(), div({
      style: "display:flex; flex-direction:column; align-items:center; gap:8px"
    }, div({
      style: !this.showResults ? "display:flex; gap:16px" : "display:none"
    }, this.renderHints()), div({
      style: this.showResults ? "display:flex; gap:16px" : "display:none"
    }, div({}, renderMoves([...this.player1.history.slice(1), _.last(this.solution)], this.player1.total())), div({}, renderMoves(this.solution, "best")), div({}, renderMoves([...this.player2.history.slice(1), _.last(this.solution)], this.player2.total())))), this.player2.render())));
  }

  renderHints() {
    var i, style0, style1, style2;
    style0 = "text-align:center; padding:2px 6px;";
    style1 = style0 + "border-bottom:1px solid #999; font-weight:bold;";
    style2 = style0 + "border-bottom:1px solid #ddd;";
    return div({}, div({
      style: "text-align:center;"
    }, () => {
      return span({
        style: "color:red;"
      }, `${pretty(_.last(this.solution))}`);
    }), table({
      style: "border-collapse:collapse;"
    }, tr({
      style: style1
    }, td({}, "1"), td({}, "dx"), td({}, "dy"), td({}, "2")), (function() {
      var k, len, ref, results;
      ref = range(D.length);
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        i = ref[k];
        results.push(tr({
          style: style2
        }, td({}, `${this.player1.letters[i]}`), td({}, `${D[i][0]}`), td({}, `${D[i][1]}`), td({}, `${this.player2.letters[i]}`)));
      }
      return results;
    }).call(this), tr({}, td({
      style: style0
    }, "X"), td({
      style: style0,
      colspan: 2
    }, "undo"), td({
      style: style0
    }, "M")), tr({}, td({
      style: style0,
      colspan: 4
    }, "new : space"))));
  }

};

Player = class Player {
  constructor(game1, letters) {
    this.game = game1;
    this.letters = letters;
    this.curr = [];
    this.target = [];
    this.history = [this.curr];
    this.board = this.rboard();
    this.done = false;
    this.startTime = 0;
    this.endTime = 0;
    this.counter = 0;
  }

  letter(i, j) {
    var dx, dy, idx, k, len, ref, x, y;
    ref = range(D.length);
    for (k = 0, len = ref.length; k < len; k++) {
      idx = ref[k];
      [dx, dy] = D[idx];
      [x, y] = this.curr;
      if (_.isEqual([i, j], [x + dx, y + dy])) {
        return this.letters[idx];
      }
    }
    return "";
  }

  rboard() {
    var base, i, j, style;
    if (this.curr === null) {
      return null;
    }
    return table({
      style: "text-align:center;"
    }, (function() {
      var k, len, ref, results;
      ref = range(N - 1, -1, -1);
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        j = ref[k];
        results.push(tr({}, td({
          style: "text-align:center;"
        }, `${(j + 1) % 10}`), (function() {
          var l, len1, ref1, results1;
          ref1 = range(N);
          results1 = [];
          for (l = 0, len1 = ref1.length; l < len1; l++) {
            i = ref1[l];
            base = (i + j) % 2 === 0 ? "#b58863" : "#f0d9b5";
            style = _.isEqual([i, j], this.curr) ? "background:green; color:white; text-align:center;" : _.isEqual([i, j], this.target) ? "background:red; color:white; text-align:center;" : `background:${base}; text-align:center;`;
            results1.push(td({style}, this.letter(i, j)));
          }
          return results1;
        }).call(this)));
      }
      return results;
    }).call(this), tr({}, (function() {
      var k, len, ref, results;
      ref = range(N + 1);
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        i = ref[k];
        results.push(td({
          style: "text-align:center;"
        }, " abcdefgh"[i]));
      }
      return results;
    })()));
  }

  update(idx) {
    var dx, dy, x, xdx, y, ydy;
    if (idx === 8) {
      return this.undo();
    }
    [dx, dy] = D[idx];
    [x, y] = this.curr;
    xdx = x + dx;
    ydy = y + dy;
    if ((0 <= xdx && xdx < N) && (0 <= ydy && ydy < N)) {
      this.counter += 1;
      this.history.push(this.curr);
      this.curr = [xdx, ydy];
      return this.board = this.rboard();
    }
  }

  undo() {
    if (this.history.length === 0) {
      return;
    }
    this.curr = this.history.pop();
    return this.board = this.rboard();
  }

  reached() {
    return _.isEqual(this.curr, this.target);
  }

  movesTaken() {
    return this.history.length - 1;
  }

  reset() {
    this.curr = this.game.solution[0];
    this.target = _.last(this.game.solution);
    this.history = [this.curr];
    this.board = this.rboard();
    this.startTime = performance.now();
    this.endTime = performance.now();
    this.done = false;
    return this.counter = 0;
  }

  render() {
    return div({}, this.board, div({
      style: "text-align:center; color:green;"
    }, div({}, pretty(this.curr)), div({
      style: "color:black;"
    }, () => {
      return this.game.solution.length - this.history.length;
    })));
  }

  checkEnd() {
    var p1Perfect, p2Perfect;
    if (!this.done) {
      this.done = true;
      this.endTime = performance.now();
    }
    if (!(player1.reached() && player2.reached())) {
      return;
    }
    p1Perfect = player1.counter === this.game.solution.length - 1;
    p2Perfect = player2.counter === this.game.solution.length - 1;
    game.pendingLevel = p1Perfect && p2Perfect ? this.game.level + 1 : this.game.level - 1;
    return game.showResults = true;
  }

  total() {
    return `${((this.endTime - this.startTime) / 1000 + this.counter * 10).toFixed(2)}`;
  }

};

document.addEventListener('keydown', function(e) {
  var idx, isSpace, k, key, len, player, ref;
  key = e.key.toUpperCase();
  isSpace = e.code === 'Space' || key === ' ';
  if (game.showResults) {
    if (isSpace) {
      game.showResults = false;
      game.startLevel(game.pendingLevel);
    }
    game.remount();
    return;
  }
  if (game.pressed.has(key)) {
    return;
  }
  game.pressed.add(key);
  ref = [player1, player2];
  for (k = 0, len = ref.length; k < len; k++) {
    player = ref[k];
    idx = player.letters.indexOf(key);
    if (idx !== -1) {
      if (player.reached()) {
        game.remount();
        return;
      }
      player.update(idx);
      player.checkEnd();
      game.remount();
      return;
    }
  }
});

document.addEventListener('keyup', function(e) {
  return game.pressed.delete(e.key.toUpperCase());
});

game = new Knight(["x1+:y2+", "x2+:y1+", "x2+:y1-", "x1+:y2-", "x1-:y2-", "x2-:y1-", "x2-:y1+", "x1-:y2+"], 0, 7, 7, 1);

player1 = new Player(game, "QWERASDFX"); // X för undo

player2 = new Player(game, "UIOPHJKLM"); // M för undo

game.player1 = player1;

game.player2 = player2;

game.startLevel(game.level);

game.remount();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia25pZ2h0R1VJLmpzIiwic291cmNlUm9vdCI6IlxcIiwic291cmNlcyI6WyJrbmlnaHRHVUkuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLENBQUEsRUFBQSxNQUFBLEVBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQTs7QUFBQSxPQUFBO0VBQVMsTUFBVDtFQUFpQixHQUFqQjtFQUFzQixJQUF0QjtFQUE0QixLQUE1QjtFQUFtQyxFQUFuQztFQUF1QyxFQUF2QztDQUFBLE1BQUE7O0FBQ0EsT0FBTyxDQUFQLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLElBQVI7RUFBYyxJQUFkO0NBQUEsTUFBQTs7QUFFQSxDQUFBLEdBQUk7O0FBRUosQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUYsRUFBSyxDQUFMLENBQUQsRUFBVSxDQUFDLENBQUMsQ0FBRixFQUFLLENBQUwsQ0FBVixFQUFtQixDQUFFLENBQUYsRUFBSyxDQUFMLENBQW5CLEVBQTRCLENBQUUsQ0FBRixFQUFLLENBQUwsQ0FBNUIsRUFBcUMsQ0FBQyxDQUFDLENBQUYsRUFBSSxDQUFDLENBQUwsQ0FBckMsRUFBOEMsQ0FBQyxDQUFDLENBQUYsRUFBSSxDQUFDLENBQUwsQ0FBOUMsRUFBdUQsQ0FBRSxDQUFGLEVBQUksQ0FBQyxDQUFMLENBQXZELEVBQWdFLENBQUUsQ0FBRixFQUFJLENBQUMsQ0FBTCxDQUFoRTs7QUFFSixLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUVWLE9BQUEsR0FBVTs7QUFDVixPQUFBLEdBQVU7O0FBQ1YsSUFBQSxHQUFPOztBQUVQLE9BQUEsSUFBTyxNQUFBLEdBQVMsUUFBQSxDQUFDLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBRCxDQUFBO1NBQVcsVUFBVSxDQUFDLENBQUQsQ0FBVixHQUFnQixVQUFVLENBQUMsQ0FBRDtBQUFyQzs7QUFFaEIsT0FBQSxJQUFPLFdBQUEsR0FBYyxRQUFBLENBQUMsS0FBRCxF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b0MsQ0FBckM7O0FBdUJBLFFBQVEsQ0FBQyxnQkFBVCxDQUEwQixPQUExQixFQUFtQyxRQUFBLENBQUMsQ0FBRCxDQUFBO1NBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFiLENBQW9CLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBTixDQUFBLENBQXBCO0FBQVAsQ0FBbkM7O0FBRUEsSUFBQSxHQUFPLElBQUksTUFBSixDQUFXLENBQUMsU0FBRCxFQUFXLFNBQVgsRUFBcUIsU0FBckIsRUFBK0IsU0FBL0IsRUFBeUMsU0FBekMsRUFBbUQsU0FBbkQsRUFBNkQsU0FBN0QsRUFBdUUsU0FBdkUsQ0FBWCxFQUE2RixDQUE3RixFQUErRixDQUEvRixFQUFpRyxDQUFqRyxFQUFtRyxDQUFuRzs7QUFDUCxPQUFBLEdBQVUsSUFBSSxNQUFKLENBQVcsSUFBWCxFQUFnQixXQUFoQixFQXhMVjs7QUF5TEEsT0FBQSxHQUFVLElBQUksTUFBSixDQUFXLElBQVgsRUFBZ0IsV0FBaEIsRUF6TFY7O0FBMkxBLElBQUksQ0FBQyxPQUFMLEdBQWU7O0FBQ2YsSUFBSSxDQUFDLE9BQUwsR0FBZTs7QUFFZixJQUFJLENBQUMsVUFBTCxDQUFnQixJQUFJLENBQUMsS0FBckI7O0FBQ0EsSUFBSSxDQUFDLE9BQUwsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJ1dHRvbiwgZGl2LCBzcGFuLCB0YWJsZSwgdHIsIHRkIH0gZnJvbSBcImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9zaWdtZW50anMvc2lnbWVudC1uZ0AxLjMuNC9kaXN0L2luZGV4LmpzXCJcbmltcG9ydCBfIGZyb20gXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xvZGFzaC1lc0A0LjE3LjIxL2xvZGFzaC5qc1wiXG5pbXBvcnQge2VjaG8sIEdhbWV9IGZyb20gXCIuL2dhbWUuanNcIlxuXG5OID0gOFxuXG5EID0gW1stMiwgMV0sIFstMSwgMl0sIFsgMSwgMl0sIFsgMiwgMV0sIFstMiwtMV0sIFstMSwtMl0sIFsgMSwtMl0sIFsgMiwtMV1dXG5cbnJhbmdlID0gXy5yYW5nZVxuXG5wbGF5ZXIxID0gbnVsbFxucGxheWVyMiA9IG51bGxcbmdhbWUgPSBudWxsXG5cbmV4cG9ydCBwcmV0dHkgPSAoW3gseV0pIC0+IFwiYWJjZGVmZ2hcIlt4XSArIFwiMTIzNDU2NzhcIlt5XVxuXG5leHBvcnQgcmVuZGVyTW92ZXMgPSAobW92ZXMsIGNwdSkgLT5cblx0ZGl2IHtzdHlsZTpcImRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246Y29sdW1uOyBnYXA6MnB4OyBtaW4td2lkdGg6MzZweDsgdGV4dC1hbGlnbjpjZW50ZXI7XCJ9LFxuXHRcdGRpdiB7c3R5bGU6XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIn0sIFwiI3tjcHV9XCJcblx0XHRmb3IgbW92ZSBpbiBtb3Zlc1xuXHRcdFx0ZGl2IHtzdHlsZTpcInRleHQtYWxpZ246Y2VudGVyO1wifSwgcHJldHR5IG1vdmVcblxuY2xhc3MgS25pZ2h0IGV4dGVuZHMgR2FtZVxuXHRjb25zdHJ1Y3RvciA6IChAb3BzLCBAbWluaW11bSwgQG1lZGl1bSwgQG1heGltdW0sIEBsZXZlbCkgLT4gc3VwZXIoKVx0XHRcblx0Y3JlYXRlU3RhcnQgOiAtPiBbXy5yYW5kb20oQG1pbmltdW0sQG1heGltdW0pLCBfLnJhbmRvbShAbWluaW11bSxAbWF4aW11bSldXG5cdHByZXR0eSA6ICh6KSAtPiBcImFiY2RlZmdoaWprbG1ub3BcIlt6WzBdIC0gMV0gKyBcIiN7elsxXX1cIlxuXHRvayA6ICh0ZW1wKSAtPiBAbWluaW11bSA8PSB0ZW1wWzBdIDw9IEBtYXhpbXVtIGFuZCBAbWluaW11bSA8PSB0ZW1wWzFdIDw9IEBtYXhpbXVtXG5cblx0cmVtb3VudCA6IC0+XG5cdFx0YXBwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJhcHBcIlxuXHRcdGFwcC5yZXBsYWNlQ2hpbGRyZW4gZGl2IHt9LFxuXHRcdFx0ZGl2IHtzdHlsZTpcImRpc3BsYXk6ZmxleDsgZ2FwOjIwcHg7IGFsaWduLWl0ZW1zOmZsZXgtc3RhcnRcIn0sXG5cdFx0XHRcdEBwbGF5ZXIxLnJlbmRlcigpXG5cdFx0XHRcdGRpdiB7c3R5bGU6XCJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgYWxpZ24taXRlbXM6Y2VudGVyOyBnYXA6OHB4XCJ9LFxuXHRcdFx0XHRcdGRpdiB7c3R5bGU6IGlmIG5vdCBAc2hvd1Jlc3VsdHMgdGhlbiBcImRpc3BsYXk6ZmxleDsgZ2FwOjE2cHhcIiBlbHNlIFwiZGlzcGxheTpub25lXCJ9LFxuXHRcdFx0XHRcdFx0QHJlbmRlckhpbnRzKClcblx0XHRcdFx0XHRkaXYge3N0eWxlOiBpZiBAc2hvd1Jlc3VsdHMgdGhlbiBcImRpc3BsYXk6ZmxleDsgZ2FwOjE2cHhcIiBlbHNlIFwiZGlzcGxheTpub25lXCJ9LFxuXHRcdFx0XHRcdFx0ZGl2IHt9LCByZW5kZXJNb3ZlcyBbLi4uQHBsYXllcjEuaGlzdG9yeS5zbGljZSgxKSwgXy5sYXN0IEBzb2x1dGlvbl0sIEBwbGF5ZXIxLnRvdGFsKClcblx0XHRcdFx0XHRcdGRpdiB7fSwgcmVuZGVyTW92ZXMgQHNvbHV0aW9uLCBcImJlc3RcIlxuXHRcdFx0XHRcdFx0ZGl2IHt9LCByZW5kZXJNb3ZlcyBbLi4uQHBsYXllcjIuaGlzdG9yeS5zbGljZSgxKSwgXy5sYXN0IEBzb2x1dGlvbl0sIEBwbGF5ZXIyLnRvdGFsKClcblx0XHRcdFx0QHBsYXllcjIucmVuZGVyKClcblxuXHRyZW5kZXJIaW50cyA6IC0+XG5cdFx0c3R5bGUwID0gXCJ0ZXh0LWFsaWduOmNlbnRlcjsgcGFkZGluZzoycHggNnB4O1wiXG5cdFx0c3R5bGUxID0gc3R5bGUwICsgXCJib3JkZXItYm90dG9tOjFweCBzb2xpZCAjOTk5OyBmb250LXdlaWdodDpib2xkO1wiXG5cdFx0c3R5bGUyID0gc3R5bGUwICsgXCJib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZGRkO1wiXG5cdFx0ZGl2IHt9LFxuXHRcdFx0ZGl2IHtzdHlsZTpcInRleHQtYWxpZ246Y2VudGVyO1wifSwgPT5cblx0XHRcdFx0c3BhbiB7c3R5bGU6XCJjb2xvcjpyZWQ7XCJ9LCBcIiN7cHJldHR5KF8ubGFzdCBAc29sdXRpb24pfVwiXG5cdFx0XHR0YWJsZSB7c3R5bGU6XCJib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7XCJ9LFxuXHRcdFx0XHR0ciB7c3R5bGU6IHN0eWxlMX0sXG5cdFx0XHRcdFx0dGQge30sIFwiMVwiXG5cdFx0XHRcdFx0dGQge30sIFwiZHhcIlxuXHRcdFx0XHRcdHRkIHt9LCBcImR5XCJcblx0XHRcdFx0XHR0ZCB7fSwgXCIyXCJcblx0XHRcdFx0Zm9yIGkgaW4gcmFuZ2UgRC5sZW5ndGhcblx0XHRcdFx0XHR0ciB7c3R5bGU6IHN0eWxlMn0sXG5cdFx0XHRcdFx0XHR0ZCB7fSwgXCIje0BwbGF5ZXIxLmxldHRlcnNbaV19XCJcblx0XHRcdFx0XHRcdHRkIHt9LCBcIiN7RFtpXVswXX1cIlxuXHRcdFx0XHRcdFx0dGQge30sIFwiI3tEW2ldWzFdfVwiXG5cdFx0XHRcdFx0XHR0ZCB7fSwgXCIje0BwbGF5ZXIyLmxldHRlcnNbaV19XCJcblx0XHRcdFx0dHIge30sXG5cdFx0XHRcdFx0dGQge3N0eWxlOiBzdHlsZTB9LCBcIlhcIlxuXHRcdFx0XHRcdHRkIHtzdHlsZTogc3R5bGUwLCBjb2xzcGFuOjJ9LCBcInVuZG9cIlxuXHRcdFx0XHRcdHRkIHtzdHlsZTogc3R5bGUwfSwgXCJNXCJcblx0XHRcdFx0dHIge30sXG5cdFx0XHRcdFx0dGQge3N0eWxlOiBzdHlsZTAsIGNvbHNwYW46NH0sIFwibmV3IDogc3BhY2VcIlxuXG5jbGFzcyBQbGF5ZXJcblxuXHRjb25zdHJ1Y3RvcjogKEBnYW1lLEBsZXR0ZXJzKSAtPlxuXHRcdEBjdXJyID0gW11cblx0XHRAdGFyZ2V0ID0gW11cblx0XHRAaGlzdG9yeSA9IFtAY3Vycl0gXG5cdFx0QGJvYXJkID0gQHJib2FyZCgpXG5cdFx0QGRvbmUgPSBmYWxzZVxuXHRcdEBzdGFydFRpbWUgPSAwXG5cdFx0QGVuZFRpbWUgPSAwXG5cdFx0QGNvdW50ZXIgPSAwXG5cblx0bGV0dGVyIDogKGksIGopIC0+XG5cdFx0Zm9yIGlkeCBpbiByYW5nZSBELmxlbmd0aFxuXHRcdFx0W2R4LCBkeV0gPSBEW2lkeF1cblx0XHRcdFt4LHldID0gQGN1cnJcblx0XHRcdGlmIF8uaXNFcXVhbCBbaSxqXSwgW3ggKyBkeCwgeSArIGR5XSB0aGVuIHJldHVybiBAbGV0dGVyc1tpZHhdXG5cdFx0XCJcIlxuXG5cdHJib2FyZCA6IC0+XG5cblx0XHRpZiBAY3VyciA9PSBudWxsIHRoZW4gcmV0dXJuIG51bGxcblxuXHRcdHRhYmxlIHtzdHlsZTpcInRleHQtYWxpZ246Y2VudGVyO1wifSxcblx0XHRcdGZvciBqIGluIHJhbmdlIE4tMSwtMSwtMVxuXHRcdFx0XHR0ciB7fSxcblx0XHRcdFx0XHR0ZCB7c3R5bGU6XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIn0sIFwiI3soaiArIDEpICUgMTB9XCJcblx0XHRcdFx0XHRmb3IgaSBpbiByYW5nZSBOXG5cdFx0XHRcdFx0XHRiYXNlID0gaWYgKGkgKyBqKSAlIDIgPT0gMCB0aGVuIFwiI2I1ODg2M1wiIGVsc2UgXCIjZjBkOWI1XCJcblx0XHRcdFx0XHRcdHN0eWxlID1cblx0XHRcdFx0XHRcdFx0aWYgXy5pc0VxdWFsIFtpLGpdLCBAY3VyciB0aGVuIFwiYmFja2dyb3VuZDpncmVlbjsgY29sb3I6d2hpdGU7IHRleHQtYWxpZ246Y2VudGVyO1wiXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgXy5pc0VxdWFsIFtpLGpdLCBAdGFyZ2V0IHRoZW4gXCJiYWNrZ3JvdW5kOnJlZDsgY29sb3I6d2hpdGU7IHRleHQtYWxpZ246Y2VudGVyO1wiXG5cdFx0XHRcdFx0XHRcdGVsc2UgXCJiYWNrZ3JvdW5kOiN7YmFzZX07IHRleHQtYWxpZ246Y2VudGVyO1wiXG5cdFx0XHRcdFx0XHR0ZCB7c3R5bGV9LCBAbGV0dGVyIGksalxuXHRcdFx0dHIge30sXG5cdFx0XHRcdGZvciBpIGluIHJhbmdlIE4rMVxuXHRcdFx0XHRcdHRkIHtzdHlsZTpcInRleHQtYWxpZ246Y2VudGVyO1wifSwgXCIgYWJjZGVmZ2hcIltpXVxuXG5cdHVwZGF0ZSA6IChpZHgpIC0+XG5cdFx0aWYgaWR4ID09IDggdGhlbiByZXR1cm4gQHVuZG8oKVxuXHRcdFxuXHRcdFtkeCwgZHldID0gRFtpZHhdXG5cdFx0W3gseV0gPSBAY3VyclxuXHRcdHhkeCA9IHggKyBkeFxuXHRcdHlkeSA9IHkgKyBkeVxuXG5cdFx0aWYgMCA8PSB4ZHggPCBOIGFuZCAwIDw9IHlkeSA8IE5cblx0XHRcdEBjb3VudGVyICs9IDFcblx0XHRcdEBoaXN0b3J5LnB1c2ggQGN1cnJcblx0XHRcdEBjdXJyID0gW3hkeCwgeWR5XVxuXHRcdFx0QGJvYXJkICA9IEByYm9hcmQoKVxuXG5cdHVuZG8gOiAtPlxuXHRcdGlmIEBoaXN0b3J5Lmxlbmd0aCA9PSAwIHRoZW4gcmV0dXJuXG5cdFx0QGN1cnIgID0gQGhpc3RvcnkucG9wKClcblx0XHRAYm9hcmQgPSBAcmJvYXJkKClcblxuXHRyZWFjaGVkIDogLT4gXy5pc0VxdWFsIEBjdXJyLCBAdGFyZ2V0XG5cdG1vdmVzVGFrZW4gOiAtPiBAaGlzdG9yeS5sZW5ndGggLSAxXG5cdFx0XG5cdHJlc2V0IDogLT5cblx0XHRAY3VyciA9IEBnYW1lLnNvbHV0aW9uWzBdXG5cdFx0QHRhcmdldCA9IF8ubGFzdCBAZ2FtZS5zb2x1dGlvblxuXHRcdEBoaXN0b3J5ID0gW0BjdXJyXVxuXHRcdEBib2FyZCA9IEByYm9hcmQoKVxuXHRcdEBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuXHRcdEBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KClcblx0XHRAZG9uZSA9IGZhbHNlXG5cdFx0QGNvdW50ZXIgPSAwXG5cdFx0XG5cdHJlbmRlciA6IC0+XG5cdFx0ZGl2IHt9LFxuXHRcdFx0QGJvYXJkXG5cdFx0XHRkaXYge3N0eWxlOlwidGV4dC1hbGlnbjpjZW50ZXI7IGNvbG9yOmdyZWVuO1wifSxcblx0XHRcdFx0ZGl2IHt9LCBwcmV0dHkoQGN1cnIpXG5cdFx0XHRcdGRpdiB7c3R5bGU6XCJjb2xvcjpibGFjaztcIn0sID0+IEBnYW1lLnNvbHV0aW9uLmxlbmd0aCAtIEBoaXN0b3J5Lmxlbmd0aFxuXG5cdGNoZWNrRW5kIDogLT5cblx0XHRpZiBub3QgQGRvbmVcblx0XHRcdEBkb25lID0gdHJ1ZVxuXHRcdFx0QGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuXG5cdFx0cmV0dXJuIHVubGVzcyBwbGF5ZXIxLnJlYWNoZWQoKSBhbmQgcGxheWVyMi5yZWFjaGVkKClcblx0XHRwMVBlcmZlY3QgPSBwbGF5ZXIxLmNvdW50ZXIgPT0gQGdhbWUuc29sdXRpb24ubGVuZ3RoIC0gMVxuXHRcdHAyUGVyZmVjdCA9IHBsYXllcjIuY291bnRlciA9PSBAZ2FtZS5zb2x1dGlvbi5sZW5ndGggLSAxXG5cdFx0Z2FtZS5wZW5kaW5nTGV2ZWwgPSBpZiBwMVBlcmZlY3QgYW5kIHAyUGVyZmVjdCB0aGVuIEBnYW1lLmxldmVsICsgMSBlbHNlIEBnYW1lLmxldmVsIC0gMVxuXHRcdGdhbWUuc2hvd1Jlc3VsdHMgPSB0cnVlXG5cblx0dG90YWwgOiAtPiBcIiN7KChAZW5kVGltZSAtIEBzdGFydFRpbWUpLzEwMDAgKyBAY291bnRlcioxMCkudG9GaXhlZCAyfVwiXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgJ2tleWRvd24nLCAoZSkgLT5cblx0a2V5ID0gZS5rZXkudG9VcHBlckNhc2UoKVxuXHRpc1NwYWNlID0gZS5jb2RlID09ICdTcGFjZScgb3Iga2V5ID09ICcgJ1xuXHRpZiBnYW1lLnNob3dSZXN1bHRzXG5cdFx0aWYgaXNTcGFjZVxuXHRcdFx0Z2FtZS5zaG93UmVzdWx0cyA9IGZhbHNlXG5cdFx0XHRnYW1lLnN0YXJ0TGV2ZWwgZ2FtZS5wZW5kaW5nTGV2ZWxcblx0XHRnYW1lLnJlbW91bnQoKVxuXHRcdHJldHVyblxuXHRyZXR1cm4gaWYgZ2FtZS5wcmVzc2VkLmhhcyBrZXlcblx0Z2FtZS5wcmVzc2VkLmFkZCBrZXlcblxuXHRmb3IgcGxheWVyIGluIFtwbGF5ZXIxLHBsYXllcjJdXG5cdFx0aWR4ID0gcGxheWVyLmxldHRlcnMuaW5kZXhPZiBrZXlcblx0XHRpZiBpZHggIT0gLTFcblx0XHRcdGlmIHBsYXllci5yZWFjaGVkKClcblx0XHRcdFx0Z2FtZS5yZW1vdW50KClcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHRwbGF5ZXIudXBkYXRlIGlkeFxuXHRcdFx0cGxheWVyLmNoZWNrRW5kKClcblx0XHRcdGdhbWUucmVtb3VudCgpXG5cdFx0XHRyZXR1cm5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAna2V5dXAnLCAoZSkgLT4gZ2FtZS5wcmVzc2VkLmRlbGV0ZSBlLmtleS50b1VwcGVyQ2FzZSgpXG5cbmdhbWUgPSBuZXcgS25pZ2h0IFtcIngxKzp5MitcIixcIngyKzp5MStcIixcIngyKzp5MS1cIixcIngxKzp5Mi1cIixcIngxLTp5Mi1cIixcIngyLTp5MS1cIixcIngyLTp5MStcIixcIngxLTp5MitcIl0sMCw3LDcsMVxucGxheWVyMSA9IG5ldyBQbGF5ZXIgZ2FtZSxcIlFXRVJBU0RGWFwiICMgWCBmw7ZyIHVuZG9cbnBsYXllcjIgPSBuZXcgUGxheWVyIGdhbWUsXCJVSU9QSEpLTE1cIiAjIE0gZsO2ciB1bmRvXG5cbmdhbWUucGxheWVyMSA9IHBsYXllcjFcbmdhbWUucGxheWVyMiA9IHBsYXllcjJcblxuZ2FtZS5zdGFydExldmVsIGdhbWUubGV2ZWxcbmdhbWUucmVtb3VudCgpXG4iXX0=
//# sourceURL=c:\github\2026\005-shortcut2D\knightGUI.coffee