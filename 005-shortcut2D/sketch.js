// Generated by CoffeeScript 2.7.0
var D, N, Player, checkEnd, createProblem, echo, keyx, level, pendingLevel, perfectPath, player1, player2, players, pressed, range, remount, renderHints, renderMoves, requiredMoves, showResults, solution, start, startLevel, t, target, undoMap;

import {
  mount,
  button,
  div,
  span,
  table,
  tr,
  td
} from "https://cdn.jsdelivr.net/gh/sigmentjs/sigment-ng@1.3.4/dist/index.js";

import _ from "https://cdn.jsdelivr.net/npm/lodash-es@4.17.21/lodash.js";

N = 8;

D = [[-2, 1], [-1, 2], [1, 2], [2, 1], [-2, -1], [-1, -2], [1, -2], [2, -1]];

echo = console.log;

range = _.range;

Player = class Player {
  constructor(curr1, letters, requiredMoves) {
    this.curr = curr1;
    this.letters = letters;
    this.board = this.rboard();
    this.remaining = requiredMoves;
    this.history = [this.curr];
  }

  letter(i, j) {
    var dx, dy, idx, k, len, ref, x, y;
    ref = range(D.length);
    for (k = 0, len = ref.length; k < len; k++) {
      idx = ref[k];
      [dx, dy] = D[idx];
      [x, y] = this.curr;
      if (_.isEqual([i, j], [x + dx, y + dy])) {
        return this.letters[idx];
      }
    }
    return "";
  }

  rboard() {
    var base, i, j, style;
    return table({
      style: "text-align:center;"
    }, (function() {
      var k, len, ref, results;
      ref = range(N - 1, -1, -1);
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        j = ref[k];
        results.push(tr({}, td({
          style: "text-align:center;"
        }, `${(j + 1) % 10}`), (function() {
          var l, len1, ref1, results1;
          ref1 = range(N);
          results1 = [];
          for (l = 0, len1 = ref1.length; l < len1; l++) {
            i = ref1[l];
            base = (i + j) % 2 === 0 ? "#b58863" : "#f0d9b5";
            style = _.isEqual([i, j], this.curr) ? "background:red; color:white; text-align:center;" : _.isEqual([i, j], target) ? "background:green; color:white; text-align:center;" : `background:${base}; text-align:center;`;
            results1.push(td({style}, this.letter(i, j)));
          }
          return results1;
        }).call(this)));
      }
      return results;
    }).call(this), tr({}, (function() {
      var k, len, ref, results;
      ref = range(N + 1);
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        i = ref[k];
        results.push(td({
          style: "text-align:center;"
        }, " abcdefgh"[i]));
      }
      return results;
    })()));
  }

  update(idx) {
    var dx, dy, x, xdx, y, ydy;
    [dx, dy] = D[idx];
    [x, y] = this.curr;
    xdx = x + dx;
    ydy = y + dy;
    if ((0 <= xdx && xdx < N) && (0 <= ydy && ydy < N)) {
      this.history.push(this.curr);
      this.curr = [xdx, ydy];
      this.board = this.rboard();
      return true;
    }
    return false;
  }

  undo() {
    if (this.history.length === 0) {
      return false;
    }
    this.curr = this.history.pop();
    this.board = this.rboard();
    return true;
  }

  reached() {
    return _.isEqual(this.curr, target);
  }

  movesTaken() {
    return this.history.length - 1;
  }

  pathString() {
    var path;
    path = this.history.slice();
    if (!_.isEqual(path[path.length - 1], this.curr)) {
      path.push(this.curr);
    }
    return path.map(keyx).join(' ');
  }

  pathArray(includeStart = true) {
    var path;
    path = this.history.slice(1);
    path.push(this.curr);
    return path.map(keyx);
  }

  reset(curr, requiredMoves) {
    this.curr = curr;
    this.remaining = requiredMoves;
    this.history = [curr];
    return this.board = this.rboard();
  }

  tick() {
    return this.remaining = this.remaining - 1;
  }

  render() {
    return div({}, this.board, div({ // signal kräver en funktion
      style: "text-align:center; color:red;"
    }, div({}, () => {
      return keyx(this.curr); // signal kräver en funktion med =
    }), div({
      style: "color:black;"
    }, () => {
      return this.remaining;
    })));
  }

};

keyx = function([x, y]) {
  return "abcdefgh"[x] + "12345678"[y];
};

renderMoves = function(moves) {
  var move;
  return div({
    style: "display:flex; flex-direction:column; gap:2px; min-width:36px; text-align:center;"
  }, (function() {
    var k, len, results;
    results = [];
    for (k = 0, len = moves.length; k < len; k++) {
      move = moves[k];
      results.push(div({
        style: "text-align:center;"
      }, move));
    }
    return results;
  })());
};

renderHints = function() {
  var i, style1, style2, style3;
  style1 = "text-align:center; font-weight:bold; padding:2px 6px; border-bottom:1px solid #999;";
  style2 = "text-align:center; padding:2px 6px; border-bottom:1px solid #ddd;";
  style3 = "text-align:center; padding:2px 6px;";
  return div({}, div({
    style: "text-align:center;"
  }, () => {
    return span({
      style: "color:green;"
    }, `${keyx(target)}`);
  }), table({
    style: "border-collapse:collapse;"
  }, tr({
    style: style1
  }, td({}, "1"), td({}, "dx"), td({}, "dy"), td({}, "2")), (function() {
    var k, len, ref, results;
    ref = range(D.length);
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      results.push(tr({
        style: style2
      }, td({}, `${player1.letters[i]}`), td({}, `${D[i][0]}`), td({}, `${D[i][1]}`), td({}, `${player2.letters[i]}`)));
    }
    return results;
  })(), tr({}, td({
    style: style3
  }, "X"), td({
    style: style3,
    colspan: 2
  }, "undo"), td({
    style: style3
  }, "M")), tr({}, td({
    style: style3,
    colspan: 4
  }, "new : space"))));
};

createProblem = function(level) {
  var dx, dy, findSolution, front0, front1, k, key, len, reached, start, t, x, x0, y, y0;
  findSolution = function(t, reached) {
    var curr, path;
    echo('findSolution', t);
    path = [];
    curr = keyx(t);
    while (curr !== 'start') {
      path.push(curr);
      curr = reached[curr];
    }
    path.reverse();
    return path.join(' ');
  };
  start = [_.random(0, N - 1), _.random(0, N - 1)];
  reached = {};
  reached[keyx(start)] = 'start';
  front0 = [start];
  while (level > 0) {
    level = level - 1;
    front1 = [];
    for (k = 0, len = front0.length; k < len; k++) {
      [x0, y0] = front0[k];
      for (key in D) {
        [dx, dy] = D[key];
        [x, y] = [x0 + dx, y0 + dy];
        if ((0 <= x && x < N) && (0 <= y && y < N) && !reached[keyx([x, y])]) {
          reached[keyx([x, y])] = keyx([x0, y0]);
          front1.push([x, y]);
        }
      }
    }
    if (front1.length === 0) {
      t = _.sample(front0);
      return [start, t, findSolution(t, reached)];
    } else {
      front0 = front1;
    }
    t = _.sample(front1);
  }
  return [start, t, findSolution(t, reached)];
};

level = 1;

showResults = false;

perfectPath = [];

target = null;

start = null;

solution = "";

requiredMoves = 0;

pendingLevel = null;

[start, t, solution] = createProblem(level);

target = t;

echo("solution:", solution);

requiredMoves = solution.trim().length === 0 ? 0 : solution.split(' ').length - 1;

echo(`${keyx(start)} to ${keyx(target)}`);

player1 = new Player(start, "QWERASDF", requiredMoves);

player2 = new Player(start, "UIOPHJKL", requiredMoves);

startLevel = function(newLevel) {
  var lvl;
  lvl = Math.max(1, newLevel);
  [start, t, solution] = createProblem(lvl);
  target = t;
  requiredMoves = solution.trim().length === 0 ? 0 : solution.split(' ').length - 1;
  level = lvl;
  showResults = false;
  echo('showResults', showResults);
  perfectPath = [];
  player1.reset(start, requiredMoves);
  player2.reset(start, requiredMoves);
  pressed.clear();
  echo("solution:", solution);
  return echo(`${keyx(start)} to ${keyx(target)}`);
};

pressed = new Set();

players = [player1, player2];

undoMap = new Map([['x', player1], ['m', player2]]);

checkEnd = function() {
  var nextLevel, p1Perfect, p2Perfect;
  if (!(player1.reached() && player2.reached())) {
    return;
  }
  p1Perfect = player1.movesTaken() === requiredMoves;
  p2Perfect = player2.movesTaken() === requiredMoves;
  nextLevel = p1Perfect && p2Perfect ? level + 1 : level - 1;
  pendingLevel = nextLevel;
  perfectPath = solution.trim().length === 0 ? [] : solution.split(' ');
  showResults = true;
  echo('showResults', showResults);
  return nextLevel;
};

document.addEventListener('keydown', function(e) {
  var idx, isSpace, k, key, len, player;
  key = e.key.toLowerCase();
  isSpace = e.code === 'Space' || key === ' ';
  if (showResults) {
    if (isSpace) {
      showResults = false;
      echo('showResults', showResults);
      perfectPath = [];
      startLevel(pendingLevel);
    }
    remount();
    return;
  }
  if (pressed.has(key)) {
    return;
  }
  pressed.add(key);
  if (undoMap.has(key)) {
    player = undoMap.get(key);
    if (player.reached()) {
      remount();
      return;
    }
    player.undo();
    remount();
    return;
  }
  for (k = 0, len = players.length; k < len; k++) {
    player = players[k];
    idx = player.letters.toLowerCase().indexOf(key);
    if (idx !== -1) {
      if (player.reached()) {
        remount();
        return;
      }
      if (player.update(idx)) {
        player.tick();
      }
      checkEnd();
      remount();
      return;
    }
  }
});

document.addEventListener('keyup', function(e) {
  return pressed.delete(e.key.toLowerCase());
});

remount = function() {
  var app;
  app = document.getElementById("app");
  return app.replaceChildren(div({}, div({
    style: "display:flex; gap:20px; align-items:flex-start"
  }, player1.render(), div({
    style: "display:flex; flex-direction:column; align-items:center; gap:8px"
  }, div({
    style: () => {
      if (!showResults) {
        return "display:flex; gap:16px";
      } else {
        return "display:none";
      }
    }
  }, renderHints()), div({
    style: () => {
      if (showResults) {
        return "display:flex; gap:16px";
      } else {
        return "display:none";
      }
    }
  }, div({}, () => {
    return renderMoves(player1.pathArray(false));
  }), div({}, () => {
    return renderMoves(perfectPath);
  }), div({}, () => {
    return renderMoves(player2.pathArray(false));
  }))), player2.render())));
};

remount();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IlxcIiwic291cmNlcyI6WyJza2V0Y2guY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsRUFBQSxhQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLFdBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxXQUFBLEVBQUEsV0FBQSxFQUFBLGFBQUEsRUFBQSxXQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxVQUFBLEVBQUEsQ0FBQSxFQUFBLE1BQUEsRUFBQTs7QUFBQSxPQUFBO0VBQVMsS0FBVDtFQUFnQixNQUFoQjtFQUF3QixHQUF4QjtFQUE2QixJQUE3QjtFQUFtQyxLQUFuQztFQUEwQyxFQUExQztFQUE4QyxFQUE5QztDQUFBLE1BQUE7O0FBQ0EsT0FBTyxDQUFQLE1BQUE7O0FBRUEsQ0FBQSxHQUFJOztBQUVKLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBQyxDQUFGLEVBQUssQ0FBTCxDQUFELEVBQVUsQ0FBQyxDQUFDLENBQUYsRUFBSyxDQUFMLENBQVYsRUFBbUIsQ0FBRSxDQUFGLEVBQUssQ0FBTCxDQUFuQixFQUE0QixDQUFFLENBQUYsRUFBSyxDQUFMLENBQTVCLEVBQXFDLENBQUMsQ0FBQyxDQUFGLEVBQUksQ0FBQyxDQUFMLENBQXJDLEVBQThDLENBQUMsQ0FBQyxDQUFGLEVBQUksQ0FBQyxDQUFMLENBQTlDLEVBQXVELENBQUUsQ0FBRixFQUFJLENBQUMsQ0FBTCxDQUF2RCxFQUFnRSxDQUFFLENBQUYsRUFBSSxDQUFDLENBQUwsQ0FBaEU7O0FBRUosSUFBQSxHQUFPLE9BQU8sQ0FBQzs7QUFDZixLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUVKLFNBQU4sTUFBQSxPQUFBO0VBRUMsV0FBYSxNQUFBLFNB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QUFBO01BQUcsSUFBRyxXQUFIO2VBQW9CLHlCQUFwQjtPQUFBLE1BQUE7ZUFBa0QsZUFBbEQ7O0lBQUg7RUFBUixDQUFKLEVBQ0MsR0FBQSxDQUFJLENBQUEsQ0FBSixFQUFRLENBQUEsQ0FBQSxHQUFBO1dBQUcsV0FBQSxDQUFZLE9BQU8sQ0FBQyxTQUFSLENBQWtCLEtBQWxCLENBQVo7RUFBSCxDQUFSLENBREQsRUFFQyxHQUFBLENBQUksQ0FBQSxDQUFKLEVBQVEsQ0FBQSxDQUFBLEdBQUE7V0FBRyxXQUFBLENBQVksV0FBWjtFQUFILENBQVIsQ0FGRCxFQUdDLEdBQUEsQ0FBSSxDQUFBLENBQUosRUFBUSxDQUFBLENBQUEsR0FBQTtXQUFHLFdBQUEsQ0FBWSxPQUFPLENBQUMsU0FBUixDQUFrQixLQUFsQixDQUFaO0VBQUgsQ0FBUixDQUhELENBSEQsQ0FGRCxFQVNDLE9BQU8sQ0FBQyxNQUFSLENBQUEsQ0FURCxDQURtQixDQUFwQjtBQUZTOztBQWNWLE9BQUEsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1vdW50LCBidXR0b24sIGRpdiwgc3BhbiwgdGFibGUsIHRyLCB0ZCB9IGZyb20gXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvc2lnbWVudGpzL3NpZ21lbnQtbmdAMS4zLjQvZGlzdC9pbmRleC5qc1wiXG5pbXBvcnQgXyBmcm9tIFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9sb2Rhc2gtZXNANC4xNy4yMS9sb2Rhc2guanNcIlxuXG5OID0gOFxuXG5EID0gW1stMiwgMV0sIFstMSwgMl0sIFsgMSwgMl0sIFsgMiwgMV0sIFstMiwtMV0sIFstMSwtMl0sIFsgMSwtMl0sIFsgMiwtMV1dXG5cbmVjaG8gPSBjb25zb2xlLmxvZ1xucmFuZ2UgPSBfLnJhbmdlXG5cbmNsYXNzIFBsYXllclxuXG5cdGNvbnN0cnVjdG9yOiAoQGN1cnIsIEBsZXR0ZXJzLCByZXF1aXJlZE1vdmVzKSAtPlxuXHRcdEBib2FyZCA9IEByYm9hcmQoKVxuXHRcdEByZW1haW5pbmcgPSByZXF1aXJlZE1vdmVzXG5cdFx0QGhpc3RvcnkgPSBbQGN1cnJdIFxuXG5cdGxldHRlciA6IChpLCBqKSAtPlxuXHRcdGZvciBpZHggaW4gcmFuZ2UgRC5sZW5ndGhcblx0XHRcdFtkeCwgZHldID0gRFtpZHhdXG5cdFx0XHRbeCx5XSA9IEBjdXJyXG5cdFx0XHRpZiBfLmlzRXF1YWwgW2ksal0sIFt4ICsgZHgsIHkgKyBkeV0gdGhlbiByZXR1cm4gQGxldHRlcnNbaWR4XVxuXHRcdFwiXCJcblxuXHRyYm9hcmQgOiAtPlxuXHRcdHRhYmxlIHtzdHlsZTpcInRleHQtYWxpZ246Y2VudGVyO1wifSxcblx0XHRcdGZvciBqIGluIHJhbmdlIE4tMSwtMSwtMVxuXHRcdFx0XHR0ciB7fSxcblx0XHRcdFx0XHR0ZCB7c3R5bGU6XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIn0sIFwiI3soaiArIDEpICUgMTB9XCJcblx0XHRcdFx0XHRmb3IgaSBpbiByYW5nZSBOXG5cdFx0XHRcdFx0XHRiYXNlID0gaWYgKGkgKyBqKSAlIDIgPT0gMCB0aGVuIFwiI2I1ODg2M1wiIGVsc2UgXCIjZjBkOWI1XCJcblx0XHRcdFx0XHRcdHN0eWxlID1cblx0XHRcdFx0XHRcdFx0aWYgXy5pc0VxdWFsIFtpLGpdLCBAY3VyciB0aGVuIFwiYmFja2dyb3VuZDpyZWQ7IGNvbG9yOndoaXRlOyB0ZXh0LWFsaWduOmNlbnRlcjtcIlxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIF8uaXNFcXVhbCBbaSxqXSwgdGFyZ2V0IHRoZW4gXCJiYWNrZ3JvdW5kOmdyZWVuOyBjb2xvcjp3aGl0ZTsgdGV4dC1hbGlnbjpjZW50ZXI7XCJcblx0XHRcdFx0XHRcdFx0ZWxzZSBcImJhY2tncm91bmQ6I3tiYXNlfTsgdGV4dC1hbGlnbjpjZW50ZXI7XCJcblx0XHRcdFx0XHRcdHRkIHtzdHlsZX0sIEBsZXR0ZXIgaSxqXG5cdFx0XHR0ciB7fSxcblx0XHRcdFx0Zm9yIGkgaW4gcmFuZ2UgTisxXG5cdFx0XHRcdFx0dGQge3N0eWxlOlwidGV4dC1hbGlnbjpjZW50ZXI7XCJ9LCBcIiBhYmNkZWZnaFwiW2ldXG5cblx0dXBkYXRlIDogKGlkeCkgLT5cblx0XHRbZHgsIGR5XSA9IERbaWR4XVxuXHRcdFt4LHldID0gQGN1cnJcblx0XHR4ZHggPSB4ICsgZHhcblx0XHR5ZHkgPSB5ICsgZHlcblxuXHRcdGlmIDAgPD0geGR4IDwgTiBhbmQgMCA8PSB5ZHkgPCBOXG5cdFx0XHRAaGlzdG9yeS5wdXNoIEBjdXJyXG5cdFx0XHRAY3VyciA9IFt4ZHgsIHlkeV1cblx0XHRcdEBib2FyZCAgPSBAcmJvYXJkKClcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZmFsc2VcblxuXHR1bmRvIDogKCkgLT5cblx0XHRpZiBAaGlzdG9yeS5sZW5ndGggPT0gMCB0aGVuIHJldHVybiBmYWxzZVxuXHRcdEBjdXJyICA9IEBoaXN0b3J5LnBvcCgpXG5cdFx0QGJvYXJkID0gQHJib2FyZCgpXG5cdFx0dHJ1ZVxuXG5cdHJlYWNoZWQgOiAoKSAtPlxuXHRcdF8uaXNFcXVhbCBAY3VyciwgdGFyZ2V0XG5cblx0bW92ZXNUYWtlbiA6ICgpIC0+XG5cdFx0QGhpc3RvcnkubGVuZ3RoIC0gMVxuXHRcdFxuXHRwYXRoU3RyaW5nIDogKCkgLT5cblx0XHRwYXRoID0gQGhpc3Rvcnkuc2xpY2UoKVxuXHRcdGlmIG5vdCBfLmlzRXF1YWwgcGF0aFtwYXRoLmxlbmd0aCAtIDFdLCBAY3VyciB0aGVuIHBhdGgucHVzaCBAY3VyclxuXHRcdHBhdGgubWFwKGtleXgpLmpvaW4gJyAnXG5cdFx0XG5cdHBhdGhBcnJheSA6IChpbmNsdWRlU3RhcnQgPSB0cnVlKSAtPlxuXHRcdHBhdGggPSBAaGlzdG9yeS5zbGljZSgxKVxuXHRcdHBhdGgucHVzaCBAY3VyclxuXHRcdHBhdGgubWFwKGtleXgpXG5cdFx0XG5cdHJlc2V0IDogKGN1cnIsIHJlcXVpcmVkTW92ZXMpIC0+XG5cdFx0QGN1cnIgPSBjdXJyXG5cdFx0QHJlbWFpbmluZyAgPSByZXF1aXJlZE1vdmVzXG5cdFx0QGhpc3RvcnkgPSBbY3Vycl1cblx0XHRAYm9hcmQgPSBAcmJvYXJkKClcblx0XHRcblx0dGljayA6ICgpIC0+XG5cdFx0QHJlbWFpbmluZyA9ICBAcmVtYWluaW5nIC0gMVxuXG5cdHJlbmRlciA6IC0+XG5cdFx0ZGl2IHt9LFxuXHRcdFx0QGJvYXJkICMgc2lnbmFsIGtyw6R2ZXIgZW4gZnVua3Rpb25cblx0XHRcdGRpdiB7c3R5bGU6XCJ0ZXh0LWFsaWduOmNlbnRlcjsgY29sb3I6cmVkO1wifSxcblx0XHRcdFx0ZGl2IHt9LCA9PiBrZXl4KEBjdXJyKSAjIHNpZ25hbCBrcsOkdmVyIGVuIGZ1bmt0aW9uIG1lZCA9XG5cdFx0XHRcdGRpdiB7c3R5bGU6XCJjb2xvcjpibGFjaztcIn0sID0+IEByZW1haW5pbmdcblxua2V5eCA9IChbeCx5XSkgLT4gXCJhYmNkZWZnaFwiW3hdICsgXCIxMjM0NTY3OFwiW3ldXG5cbnJlbmRlck1vdmVzID0gKG1vdmVzKSAtPlxuXHRkaXYge3N0eWxlOlwiZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpjb2x1bW47IGdhcDoycHg7IG1pbi13aWR0aDozNnB4OyB0ZXh0LWFsaWduOmNlbnRlcjtcIn0sXG5cdFx0Zm9yIG1vdmUgaW4gbW92ZXNcblx0XHRcdGRpdiB7c3R5bGU6XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIn0sIG1vdmVcblxucmVuZGVySGludHMgPSAtPlxuXHRzdHlsZTEgPSBcInRleHQtYWxpZ246Y2VudGVyOyBmb250LXdlaWdodDpib2xkOyBwYWRkaW5nOjJweCA2cHg7IGJvcmRlci1ib3R0b206MXB4IHNvbGlkICM5OTk7XCJcblx0c3R5bGUyID0gXCJ0ZXh0LWFsaWduOmNlbnRlcjsgcGFkZGluZzoycHggNnB4OyBib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZGRkO1wiXG5cdHN0eWxlMyA9IFwidGV4dC1hbGlnbjpjZW50ZXI7IHBhZGRpbmc6MnB4IDZweDtcIlxuXHRkaXYge30sXG5cdFx0ZGl2IHtzdHlsZTpcInRleHQtYWxpZ246Y2VudGVyO1wifSwgPT5cblx0XHRcdHNwYW4ge3N0eWxlOlwiY29sb3I6Z3JlZW47XCJ9LCBcIiN7a2V5eCh0YXJnZXQpfVwiXG5cdFx0dGFibGUge3N0eWxlOlwiYm9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO1wifSxcblx0XHRcdHRyIHtzdHlsZTogc3R5bGUxfSxcblx0XHRcdFx0dGQge30sIFwiMVwiXG5cdFx0XHRcdHRkIHt9LCBcImR4XCJcblx0XHRcdFx0dGQge30sIFwiZHlcIlxuXHRcdFx0XHR0ZCB7fSwgXCIyXCJcblx0XHRcdGZvciBpIGluIHJhbmdlIEQubGVuZ3RoXG5cdFx0XHRcdHRyIHtzdHlsZTogc3R5bGUyfSxcblx0XHRcdFx0XHR0ZCB7fSwgXCIje3BsYXllcjEubGV0dGVyc1tpXX1cIlxuXHRcdFx0XHRcdHRkIHt9LCBcIiN7RFtpXVswXX1cIlxuXHRcdFx0XHRcdHRkIHt9LCBcIiN7RFtpXVsxXX1cIlxuXHRcdFx0XHRcdHRkIHt9LCBcIiN7cGxheWVyMi5sZXR0ZXJzW2ldfVwiXG5cdFx0XHR0ciB7fSxcblx0XHRcdFx0dGQge3N0eWxlOiBzdHlsZTN9LCBcIlhcIlxuXHRcdFx0XHR0ZCB7c3R5bGU6IHN0eWxlMywgY29sc3BhbjoyfSwgXCJ1bmRvXCJcblx0XHRcdFx0dGQge3N0eWxlOiBzdHlsZTN9LCBcIk1cIlxuXHRcdFx0dHIge30sXG5cdFx0XHRcdHRkIHtzdHlsZTogc3R5bGUzLCBjb2xzcGFuOjR9LCBcIm5ldyA6IHNwYWNlXCJcblxuY3JlYXRlUHJvYmxlbSA9IChsZXZlbCkgLT5cblxuXHRmaW5kU29sdXRpb24gPSAodCwgcmVhY2hlZCkgLT5cblx0XHRlY2hvICdmaW5kU29sdXRpb24nLCB0XG5cdFx0cGF0aCA9IFtdXG5cdFx0Y3VyciA9IGtleXggdFxuXHRcdHdoaWxlIGN1cnIgIT0gJ3N0YXJ0J1xuXHRcdFx0cGF0aC5wdXNoIGN1cnJcblx0XHRcdGN1cnIgPSByZWFjaGVkW2N1cnJdXG5cdFx0cGF0aC5yZXZlcnNlKClcblx0XHRwYXRoLmpvaW4gJyAnXG5cblx0c3RhcnQgPSBbXy5yYW5kb20oMCxOLTEpLCBfLnJhbmRvbSgwLE4tMSldXG5cdHJlYWNoZWQgPSB7fVxuXHRyZWFjaGVkW2tleXggc3RhcnRdID0gJ3N0YXJ0J1xuXHRmcm9udDAgPSBbc3RhcnRdXG5cdHdoaWxlIGxldmVsID4gMFxuXHRcdGxldmVsID0gbGV2ZWwgLSAxXG5cdFx0ZnJvbnQxID0gW11cblx0XHRmb3IgW3gwLHkwXSBpbiBmcm9udDBcblx0XHRcdGZvciBrZXkgb2YgRFxuXHRcdFx0XHRbZHgsIGR5XSA9IERba2V5XVxuXHRcdFx0XHRbeCwgeV0gPSBbeDAgKyBkeCwgeTAgKyBkeV1cblx0XHRcdFx0aWYgMCA8PSB4IDwgTiBhbmQgMCA8PSB5IDwgTiBhbmQgbm90IHJlYWNoZWRba2V5eCBbeCx5XV1cblx0XHRcdFx0XHRyZWFjaGVkW2tleXggW3gseV1dID0ga2V5eCBbeDAseTBdXG5cdFx0XHRcdFx0ZnJvbnQxLnB1c2ggW3gseV1cblx0XHRpZiBmcm9udDEubGVuZ3RoID09IDBcblx0XHRcdHQgPSBfLnNhbXBsZSBmcm9udDBcblx0XHRcdHJldHVybiBbc3RhcnQsIHQsIGZpbmRTb2x1dGlvbih0LCByZWFjaGVkKV1cblx0XHRlbHNlIGZyb250MCA9IGZyb250MVxuXHRcdHQgPSBfLnNhbXBsZSBmcm9udDFcblx0W3N0YXJ0LCB0LCBmaW5kU29sdXRpb24odCwgcmVhY2hlZCldXG5cbmxldmVsID0gMVxuc2hvd1Jlc3VsdHMgPSBmYWxzZVxucGVyZmVjdFBhdGggPSBbXVxudGFyZ2V0ID0gbnVsbFxuXG5zdGFydCA9IG51bGxcbnNvbHV0aW9uID0gXCJcIlxucmVxdWlyZWRNb3ZlcyA9IDBcbnBlbmRpbmdMZXZlbCA9IG51bGxcblxuW3N0YXJ0LHQsc29sdXRpb25dID0gY3JlYXRlUHJvYmxlbSBsZXZlbFxudGFyZ2V0ID0gdFxuZWNobyBcInNvbHV0aW9uOlwiLCBzb2x1dGlvblxucmVxdWlyZWRNb3ZlcyA9IGlmIHNvbHV0aW9uLnRyaW0oKS5sZW5ndGggPT0gMCB0aGVuIDAgZWxzZSBzb2x1dGlvbi5zcGxpdCgnICcpLmxlbmd0aCAtIDFcblxuZWNobyBcIiN7a2V5eChzdGFydCl9IHRvICN7a2V5eCh0YXJnZXQpfVwiXG5wbGF5ZXIxID0gbmV3IFBsYXllciBzdGFydCwgXCJRV0VSQVNERlwiLCByZXF1aXJlZE1vdmVzXG5wbGF5ZXIyID0gbmV3IFBsYXllciBzdGFydCwgXCJVSU9QSEpLTFwiLCByZXF1aXJlZE1vdmVzXG5cbnN0YXJ0TGV2ZWwgPSAobmV3TGV2ZWwpIC0+XG5cdGx2bCA9IE1hdGgubWF4IDEsIG5ld0xldmVsXG5cdFtzdGFydCx0LHNvbHV0aW9uXSA9IGNyZWF0ZVByb2JsZW0gbHZsXG5cdHRhcmdldCAgPSB0XG5cdHJlcXVpcmVkTW92ZXMgPSBpZiBzb2x1dGlvbi50cmltKCkubGVuZ3RoID09IDAgdGhlbiAwIGVsc2Ugc29sdXRpb24uc3BsaXQoJyAnKS5sZW5ndGggLSAxXG5cdGxldmVsID0gbHZsXG5cdHNob3dSZXN1bHRzID0gZmFsc2Vcblx0ZWNobyAnc2hvd1Jlc3VsdHMnLHNob3dSZXN1bHRzXG5cdHBlcmZlY3RQYXRoID0gW11cblx0cGxheWVyMS5yZXNldCBzdGFydCwgcmVxdWlyZWRNb3Zlc1xuXHRwbGF5ZXIyLnJlc2V0IHN0YXJ0LCByZXF1aXJlZE1vdmVzXG5cdHByZXNzZWQuY2xlYXIoKVxuXHRlY2hvIFwic29sdXRpb246XCIsIHNvbHV0aW9uXG5cdGVjaG8gXCIje2tleXgoc3RhcnQpfSB0byAje2tleXgodGFyZ2V0KX1cIlxuXG5wcmVzc2VkID0gbmV3IFNldCgpXG5wbGF5ZXJzID0gW3BsYXllcjEsIHBsYXllcjJdXG51bmRvTWFwID0gbmV3IE1hcCBbXG5cdFsneCcsIHBsYXllcjFdXG5cdFsnbScsIHBsYXllcjJdXG5dXG5cbmNoZWNrRW5kID0gKCkgLT5cblx0cmV0dXJuIHVubGVzcyBwbGF5ZXIxLnJlYWNoZWQoKSBhbmQgcGxheWVyMi5yZWFjaGVkKClcblx0cDFQZXJmZWN0ID0gcGxheWVyMS5tb3Zlc1Rha2VuKCkgPT0gcmVxdWlyZWRNb3Zlc1xuXHRwMlBlcmZlY3QgPSBwbGF5ZXIyLm1vdmVzVGFrZW4oKSA9PSByZXF1aXJlZE1vdmVzXG5cdG5leHRMZXZlbCA9IGlmIHAxUGVyZmVjdCBhbmQgcDJQZXJmZWN0IHRoZW4gbGV2ZWwgKyAxIGVsc2UgbGV2ZWwgLSAxXG5cdHBlbmRpbmdMZXZlbCA9IG5leHRMZXZlbFxuXHRwZXJmZWN0UGF0aCA9IGlmIHNvbHV0aW9uLnRyaW0oKS5sZW5ndGggPT0gMCB0aGVuIFtdIGVsc2Ugc29sdXRpb24uc3BsaXQgJyAnXG5cdHNob3dSZXN1bHRzID0gdHJ1ZVxuXHRlY2hvICdzaG93UmVzdWx0cycsc2hvd1Jlc3VsdHNcblx0bmV4dExldmVsXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgJ2tleWRvd24nLCAoZSkgLT5cblx0a2V5ID0gZS5rZXkudG9Mb3dlckNhc2UoKVxuXHRpc1NwYWNlID0gZS5jb2RlID09ICdTcGFjZScgb3Iga2V5ID09ICcgJ1xuXHRpZiBzaG93UmVzdWx0c1xuXHRcdGlmIGlzU3BhY2Vcblx0XHRcdHNob3dSZXN1bHRzID0gZmFsc2Vcblx0XHRcdGVjaG8gJ3Nob3dSZXN1bHRzJyxzaG93UmVzdWx0c1xuXHRcdFx0cGVyZmVjdFBhdGggPSBbXVxuXHRcdFx0c3RhcnRMZXZlbCBwZW5kaW5nTGV2ZWxcblx0XHRyZW1vdW50KClcblx0XHRyZXR1cm5cblx0cmV0dXJuIGlmIHByZXNzZWQuaGFzIGtleVxuXHRwcmVzc2VkLmFkZCBrZXlcblx0aWYgdW5kb01hcC5oYXMga2V5XG5cdFx0cGxheWVyID0gdW5kb01hcC5nZXQoa2V5KVxuXHRcdGlmIHBsYXllci5yZWFjaGVkKClcblx0XHRcdHJlbW91bnQoKVxuXHRcdFx0cmV0dXJuIFxuXHRcdHBsYXllci51bmRvKClcblx0XHRyZW1vdW50KClcblx0XHRyZXR1cm5cblx0Zm9yIHBsYXllciBpbiBwbGF5ZXJzXG5cdFx0aWR4ID0gcGxheWVyLmxldHRlcnMudG9Mb3dlckNhc2UoKS5pbmRleE9mIGtleVxuXHRcdGlmIGlkeCAhPSAtMVxuXHRcdFx0aWYgcGxheWVyLnJlYWNoZWQoKVxuXHRcdFx0XHRyZW1vdW50KClcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHRpZiBwbGF5ZXIudXBkYXRlIGlkeCB0aGVuIHBsYXllci50aWNrKClcblx0XHRcdGNoZWNrRW5kKClcblx0XHRcdHJlbW91bnQoKVxuXHRcdFx0cmV0dXJuXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgJ2tleXVwJywgKGUpIC0+XG5cdHByZXNzZWQuZGVsZXRlIGUua2V5LnRvTG93ZXJDYXNlKClcblxucmVtb3VudCA9IC0+XG5cdGFwcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpXG5cdGFwcC5yZXBsYWNlQ2hpbGRyZW4gZGl2IHt9LFxuXHRcdGRpdiB7c3R5bGU6XCJkaXNwbGF5OmZsZXg7IGdhcDoyMHB4OyBhbGlnbi1pdGVtczpmbGV4LXN0YXJ0XCJ9LFxuXHRcdFx0cGxheWVyMS5yZW5kZXIoKVxuXHRcdFx0ZGl2IHtzdHlsZTpcImRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246Y29sdW1uOyBhbGlnbi1pdGVtczpjZW50ZXI7IGdhcDo4cHhcIn0sXG5cdFx0XHRcdGRpdiB7c3R5bGU6ID0+IGlmIG5vdCBzaG93UmVzdWx0cyB0aGVuIFwiZGlzcGxheTpmbGV4OyBnYXA6MTZweFwiIGVsc2UgXCJkaXNwbGF5Om5vbmVcIn0sXG5cdFx0XHRcdFx0cmVuZGVySGludHMoKVxuXHRcdFx0XHRkaXYge3N0eWxlOiA9PiBpZiBzaG93UmVzdWx0cyB0aGVuIFwiZGlzcGxheTpmbGV4OyBnYXA6MTZweFwiIGVsc2UgXCJkaXNwbGF5Om5vbmVcIn0sXG5cdFx0XHRcdFx0ZGl2IHt9LCA9PiByZW5kZXJNb3ZlcyBwbGF5ZXIxLnBhdGhBcnJheShmYWxzZSlcblx0XHRcdFx0XHRkaXYge30sID0+IHJlbmRlck1vdmVzIHBlcmZlY3RQYXRoXG5cdFx0XHRcdFx0ZGl2IHt9LCA9PiByZW5kZXJNb3ZlcyBwbGF5ZXIyLnBhdGhBcnJheShmYWxzZSlcblx0XHRcdHBsYXllcjIucmVuZGVyKClcblx0XHRcbnJlbW91bnQoKVxuIl19
//# sourceURL=c:\github\2026\005-shortcut2D\sketch.coffee