// Generated by CoffeeScript 2.7.0
var D, N, Player, createProblem, echo, keyx, player1, player2, range, solution, start, t0, t1, target;

import {
  mount,
  signal,
  button,
  div,
  span,
  table,
  tr,
  td
} from "https://cdn.jsdelivr.net/gh/sigmentjs/sigment-ng@1.3.4/dist/index.js";

import _ from "https://cdn.jsdelivr.net/npm/lodash-es@4.17.21/lodash.js";

N = 8;

D = {
  A: [1, 2],
  B: [2, 1],
  C: [2, -1],
  D: [1, -2],
  E: [-1, 2],
  F: [-2, 1],
  G: [-2, -1],
  H: [-1, -2]
};

echo = console.log;

range = _.range;

Player = class Player {
  constructor(curr) {
    [this.curr, this.setCurr] = signal(curr);
    [this.board, this.setBoard] = signal(this.rboard());
    this.history = [this.curr()];
  }

  letter(i, j) {
    var dx, dy, key, x, y;
    if (_.isEqual([i, j], this.curr())) {
      return keyx(this.curr());
    }
    if (_.isEqual([i, j], target)) {
      return keyx(target);
    }
    for (key in D) {
      [dx, dy] = D[key];
      [x, y] = this.curr();
      if (_.isEqual([i, j], [x + dx, y + dy])) {
        return key;
      }
    }
    return "•";
  }

  rboard() {
    var i, j, style;
    return table({
      style: "text-align:center;"
    }, (function() {
      var k, len, ref, results;
      ref = range(N - 1, -1, -1);
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        j = ref[k];
        results.push(tr({}, td({
          style: "text-align:center;"
        }, `${(j + 1) % 10}`), (function() {
          var l, len1, ref1, results1;
          ref1 = range(N);
          results1 = [];
          for (l = 0, len1 = ref1.length; l < len1; l++) {
            i = ref1[l];
            style = _.isEqual([i, j], this.curr()) ? "background:white; color:green; text-align:center;" : _.isEqual([i, j], target) ? "background:green; color:white; text-align:center;" : "text-align:center;";
            results1.push(td({style}, this.letter(i, j)));
          }
          return results1;
        }).call(this)));
      }
      return results;
    }).call(this), tr({}, (function() {
      var k, len, ref, results;
      ref = range(N + 1);
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        i = ref[k];
        results.push(td({
          style: "text-align:center;"
        }, " abcdefgh"[i]));
      }
      return results;
    })()));
  }

  update(letter) {
    var dx, dy, x, xdx, y, ydy;
    [dx, dy] = D[letter];
    [x, y] = this.curr();
    xdx = x + dx;
    ydy = y + dy;
    if ((0 <= xdx && xdx < N) && (0 <= ydy && ydy < N)) {
      this.history.push(this.curr());
      this.setCurr([xdx, ydy]);
      return this.setBoard(this.rboard());
    }
  }

  undo() {
    if (this.history.length === 0) {
      return;
    }
    this.setCurr(this.history.pop());
    return this.setBoard(this.rboard());
  }

  render() {
    var letter;
    return div({}, this.board, div({}, div({}, () => { // signal kräver en funktion
      return keyx(this.curr()) + " to " + keyx(target); // signal kräver en funktion med =
    }), (function() {
      var k, len, ref, results;
      ref = "ABCDEFGH";
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        letter = ref[k];
        results.push(((letter) => {
          return button({
            onclick: () => {
              return this.update(letter);
            }
          }, () => {
            return letter;
          });
        })(letter));
      }
      return results;
    }).call(this), " ", button({
      onclick: () => {
        return this.undo();
      }
    }, "undo")));
  }

};

keyx = function([x, y]) {
  return "abcdefgh"[x] + "12345678"[y];
};

createProblem = function(level) {
  var dx, dy, findSolution, front0, front1, k, key, len, reached, start, target, x, x0, y, y0;
  findSolution = function() {
    var curr, path;
    echo('findSolution', target);
    path = [];
    curr = keyx(target);
    while (curr !== 'start') {
      path.push(curr);
      curr = reached[curr];
    }
    path.reverse();
    return path.join(' ');
  };
  start = [_.random(0, N - 1), _.random(0, N - 1)];
  reached = {};
  reached[keyx(start)] = 'start';
  front0 = [start];
  while (level > 0) {
    level = level - 1;
    front1 = [];
    for (k = 0, len = front0.length; k < len; k++) {
      [x0, y0] = front0[k];
      for (key in D) {
        [dx, dy] = D[key];
        [x, y] = [x0 + dx, y0 + dy];
        if ((0 <= x && x < N) && (0 <= y && y < N) && !reached[keyx([x, y])]) {
          reached[keyx([x, y])] = keyx([x0, y0]);
          front1.push([x, y]);
        }
      }
    }
    if (front1.length === 0) {
      target = _.sample(front0);
      return [start, target, findSolution()];
    } else {
      front0 = front1;
    }
    target = _.sample(front1);
  }
  // echo reached
  return [start, target, findSolution()];
};

t0 = performance.now();

[start, target, solution] = createProblem(4);

t1 = performance.now();

echo("solution:", solution);

performance.now();

echo('problem created in', t1 - t0, 's');

echo(`${keyx(start)} to ${keyx(target)}`);

player1 = new Player(start);

player2 = new Player(start);

mount("app", div({
  style: "display:flex; gap:20px;"
}, player1.render(), player2.render()));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IlxcIiwic291cmNlcyI6WyJza2V0Y2guY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsTUFBQSxFQUFBLGFBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQTs7QUFBQSxPQUFBO0VBQVMsS0FBVDtFQUFnQixNQUFoQjtFQUF3QixNQUF4QjtFQUFnQyxHQUFoQztFQUFxQyxJQUFyQztFQUEyQyxLQUEzQztFQUFrRCxFQUFsRDtFQUFzRCxFQUF0RDtDQUFBLE1BQUE7O0FBQ0EsT0FBTyxDQUFQLE1BQUE7O0FBRUEsQ0FBQSxHQUFJOztBQUVKLENBQUEsR0FBSTtFQUFFLENBQUEsRUFBRyxDQUFFLENBQUYsRUFBSyxDQUFMLENBQUw7RUFBYyxDQUFBLEVBQUUsQ0FBRSxDQUFGLEVBQUssQ0FBTCxDQUFoQjtFQUF5QixDQUFBLEVBQUUsQ0FBRSxDQUFGLEVBQUksQ0FBQyxDQUFMLENBQTNCO0VBQW9DLENBQUEsRUFBRSxDQUFFLENBQUYsRUFBSSxDQUFDLENBQUwsQ0FBdEM7RUFBK0MsQ0FBQSxFQUFFLENBQUMsQ0FBQyxDQUFGLEVBQUssQ0FBTCxDQUFqRDtFQUEwRCxDQUFBLEVBQUUsQ0FBQyxDQUFDLENBQUYsRUFBSyxDQUFMLENBQTVEO0VBQXFFLENBQUEsRUFBRSxDQUFDLENBQUMsQ0FBRixFQUFJLENBQUMsQ0FBTCxDQUF2RTtFQUFnRixDQUFBLEVBQUUsQ0FBQyxDQUFDLENBQUYsRUFBSSxDQUFDLENBQUw7QUFBbEY7O0FBRUosSUFBQSxHQUFPLE9BQU8sQ0FBQzs7QUFDZixLQUFBLEdBQVEsQ0FBQyxDQUFDOztBQUVKLFNBQU4sTUFBQSxPQUFBO0VBRUMsV0FBYSxDQUFDLElBQUQsQ0FBQTtJQUNaLENBQUMsSUFBQyxDQUFB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aEI7QUFoQ2U7O0FBa0NoQixFQUFBLEdBQUssV0FBVyxDQUFDLEdBQVosQ0FBQTs7QUFDTCxDQUFDLEtBQUQsRUFBTyxNQUFQLEVBQWMsUUFBZCxDQUFBLEdBQTBCLGFBQUEsQ0FBYyxDQUFkOztBQUMxQixFQUFBLEdBQUssV0FBVyxDQUFDLEdBQVosQ0FBQTs7QUFDTCxJQUFBLENBQUssV0FBTCxFQUFrQixRQUFsQjs7QUFFQSxXQUFXLENBQUMsR0FBWixDQUFBOztBQUNBLElBQUEsQ0FBSyxvQkFBTCxFQUE0QixFQUFBLEdBQUssRUFBakMsRUFBc0MsR0FBdEM7O0FBQ0EsSUFBQSxDQUFLLENBQUEsQ0FBQSxDQUFHLElBQUEsQ0FBSyxLQUFMLENBQUgsQ0FBQSxJQUFBLENBQUEsQ0FBcUIsSUFBQSxDQUFLLE1BQUwsQ0FBckIsQ0FBQSxDQUFMOztBQUNBLE9BQUEsR0FBVSxJQUFJLE1BQUosQ0FBVyxLQUFYOztBQUNWLE9BQUEsR0FBVSxJQUFJLE1BQUosQ0FBVyxLQUFYOztBQUVWLEtBQUEsQ0FBTSxLQUFOLEVBQ0MsR0FBQSxDQUFJO0VBQUMsS0FBQSxFQUFNO0FBQVAsQ0FBSixFQUNDLE9BQU8sQ0FBQyxNQUFSLENBQUEsQ0FERCxFQUVDLE9BQU8sQ0FBQyxNQUFSLENBQUEsQ0FGRCxDQUREIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbW91bnQsIHNpZ25hbCwgYnV0dG9uLCBkaXYsIHNwYW4sIHRhYmxlLCB0ciwgdGQgfSBmcm9tIFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3NpZ21lbnRqcy9zaWdtZW50LW5nQDEuMy40L2Rpc3QvaW5kZXguanNcIlxyXG5pbXBvcnQgXyBmcm9tIFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9sb2Rhc2gtZXNANC4xNy4yMS9sb2Rhc2guanNcIlxyXG5cclxuTiA9IDhcclxuXHJcbkQgPSB7IEE6IFsgMSwgMl0sIEI6WyAyLCAxXSwgQzpbIDIsLTFdLCBEOlsgMSwtMl0sIEU6Wy0xLCAyXSwgRjpbLTIsIDFdLCBHOlstMiwtMV0sIEg6Wy0xLC0yXX1cclxuXHJcbmVjaG8gPSBjb25zb2xlLmxvZ1xyXG5yYW5nZSA9IF8ucmFuZ2VcclxuXHJcbmNsYXNzIFBsYXllclxyXG5cclxuXHRjb25zdHJ1Y3RvcjogKGN1cnIpIC0+XHJcblx0XHRbQGN1cnIsIEBzZXRDdXJyXSA9IHNpZ25hbCBjdXJyXHJcblx0XHRbQGJvYXJkLEBzZXRCb2FyZF0gPSBzaWduYWwgQHJib2FyZCgpXHJcblx0XHRAaGlzdG9yeSA9IFtAY3VycigpXSBcclxuXHJcblx0bGV0dGVyIDogKGksIGopIC0+XHJcblx0XHRpZiBfLmlzRXF1YWwgW2ksal0sIEBjdXJyKCkgdGhlbiByZXR1cm4ga2V5eCBAY3VycigpXHJcblx0XHRpZiBfLmlzRXF1YWwgW2ksal0sIHRhcmdldCB0aGVuIHJldHVybiBrZXl4IHRhcmdldFxyXG5cdFx0Zm9yIGtleSBvZiBEIFxyXG5cdFx0XHRbZHgsIGR5XSA9IERba2V5XVxyXG5cdFx0XHRbeCx5XSA9IEBjdXJyKClcclxuXHRcdFx0aWYgXy5pc0VxdWFsIFtpLGpdLCBbeCArIGR4LCB5ICsgZHldIHRoZW4gcmV0dXJuIGtleVxyXG5cdFx0XCLigKJcIlxyXG5cclxuXHRyYm9hcmQgOiAtPlxyXG5cdFx0dGFibGUge3N0eWxlOlwidGV4dC1hbGlnbjpjZW50ZXI7XCJ9LFxyXG5cdFx0XHRmb3IgaiBpbiByYW5nZSBOLTEsLTEsLTFcclxuXHRcdFx0XHR0ciB7fSxcclxuXHRcdFx0XHRcdHRkIHtzdHlsZTpcInRleHQtYWxpZ246Y2VudGVyO1wifSwgXCIjeyhqICsgMSkgJSAxMH1cIlxyXG5cdFx0XHRcdFx0Zm9yIGkgaW4gcmFuZ2UgTlxyXG5cdFx0XHRcdFx0XHRzdHlsZSA9XHJcblx0XHRcdFx0XHRcdFx0aWYgXy5pc0VxdWFsIFtpLGpdLCBAY3VycigpIHRoZW4gXCJiYWNrZ3JvdW5kOndoaXRlOyBjb2xvcjpncmVlbjsgdGV4dC1hbGlnbjpjZW50ZXI7XCJcclxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIF8uaXNFcXVhbCBbaSxqXSwgdGFyZ2V0IHRoZW4gXCJiYWNrZ3JvdW5kOmdyZWVuOyBjb2xvcjp3aGl0ZTsgdGV4dC1hbGlnbjpjZW50ZXI7XCJcclxuXHRcdFx0XHRcdFx0XHRlbHNlIFwidGV4dC1hbGlnbjpjZW50ZXI7XCJcclxuXHRcdFx0XHRcdFx0dGQge3N0eWxlfSwgQGxldHRlciBpLGpcclxuXHRcdFx0dHIge30sXHJcblx0XHRcdFx0Zm9yIGkgaW4gcmFuZ2UgTisxXHJcblx0XHRcdFx0XHR0ZCB7c3R5bGU6XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIn0sIFwiIGFiY2RlZmdoXCJbaV1cclxuXHJcblx0dXBkYXRlIDogKGxldHRlcikgLT5cclxuXHRcdFtkeCwgZHldID0gRFtsZXR0ZXJdXHJcblx0XHRbeCx5XSA9IEBjdXJyKClcclxuXHRcdHhkeCA9IHggKyBkeFxyXG5cdFx0eWR5ID0geSArIGR5XHJcblxyXG5cdFx0aWYgMCA8PSB4ZHggPCBOIGFuZCAwIDw9IHlkeSA8IE5cclxuXHRcdFx0QGhpc3RvcnkucHVzaCBAY3VycigpXHJcblx0XHRcdEBzZXRDdXJyIFt4ZHgsIHlkeV1cclxuXHRcdFx0QHNldEJvYXJkIEByYm9hcmQoKVxyXG5cclxuXHR1bmRvIDogKCkgLT5cclxuXHRcdGlmIEBoaXN0b3J5Lmxlbmd0aCA9PSAwIHRoZW4gcmV0dXJuXHJcblx0XHRAc2V0Q3VyciBAaGlzdG9yeS5wb3AoKVxyXG5cdFx0QHNldEJvYXJkIEByYm9hcmQoKVxyXG5cdFx0XHJcblx0cmVuZGVyIDogLT5cclxuXHRcdGRpdiB7fSxcclxuXHRcdFx0QGJvYXJkICMgc2lnbmFsIGtyw6R2ZXIgZW4gZnVua3Rpb25cclxuXHRcdFx0ZGl2IHt9LFxyXG5cdFx0XHRcdGRpdiB7fSwgPT4ga2V5eChAY3VycigpKSArIFwiIHRvIFwiICsga2V5eCh0YXJnZXQpICMgc2lnbmFsIGtyw6R2ZXIgZW4gZnVua3Rpb24gbWVkID1cclxuXHRcdFx0XHRmb3IgbGV0dGVyIGluIFwiQUJDREVGR0hcIlxyXG5cdFx0XHRcdFx0ZG8gKGxldHRlcikgPT4gYnV0dG9uIHsgb25jbGljazogPT4gQHVwZGF0ZSBsZXR0ZXJ9LCA9PiBsZXR0ZXJcclxuXHRcdFx0XHRcIiBcIlxyXG5cdFx0XHRcdGJ1dHRvbiB7IG9uY2xpY2s6ID0+IEB1bmRvKCkgfSwgXCJ1bmRvXCJcclxuXHJcbmtleXggPSAoW3gseV0pIC0+IFwiYWJjZGVmZ2hcIlt4XSArIFwiMTIzNDU2NzhcIlt5XVxyXG5cclxuY3JlYXRlUHJvYmxlbSA9IChsZXZlbCkgLT5cclxuXHJcblx0ZmluZFNvbHV0aW9uID0gLT5cclxuXHRcdGVjaG8gJ2ZpbmRTb2x1dGlvbicsdGFyZ2V0XHJcblx0XHRwYXRoID0gW10gXHJcblx0XHRjdXJyID0ga2V5eCB0YXJnZXRcclxuXHRcdHdoaWxlIGN1cnIgIT0gJ3N0YXJ0J1xyXG5cdFx0XHRwYXRoLnB1c2ggY3VyclxyXG5cdFx0XHRjdXJyID0gcmVhY2hlZFtjdXJyXVxyXG5cdFx0cGF0aC5yZXZlcnNlKClcclxuXHRcdHBhdGguam9pbiAnICdcclxuXHJcblx0c3RhcnQgPSBbXy5yYW5kb20oMCxOLTEpLCBfLnJhbmRvbSgwLE4tMSldXHJcblx0cmVhY2hlZCA9IHt9XHJcblx0cmVhY2hlZFtrZXl4IHN0YXJ0XSA9ICdzdGFydCdcclxuXHRmcm9udDAgPSBbc3RhcnRdXHJcblx0d2hpbGUgbGV2ZWwgPiAwXHJcblx0XHRsZXZlbCA9IGxldmVsIC0gMVxyXG5cdFx0ZnJvbnQxID0gW11cclxuXHRcdGZvciBbeDAseTBdIGluIGZyb250MFxyXG5cdFx0XHRmb3Iga2V5IG9mIERcclxuXHRcdFx0XHRbZHgsIGR5XSA9IERba2V5XVxyXG5cdFx0XHRcdFt4LCB5XSA9IFt4MCArIGR4LCB5MCArIGR5XVxyXG5cdFx0XHRcdGlmIDAgPD0geCA8IE4gYW5kIDAgPD0geSA8IE4gYW5kIG5vdCByZWFjaGVkW2tleXggW3gseV1dXHJcblx0XHRcdFx0XHRyZWFjaGVkW2tleXggW3gseV1dID0ga2V5eCBbeDAseTBdXHJcblx0XHRcdFx0XHRmcm9udDEucHVzaCBbeCx5XVxyXG5cdFx0aWYgZnJvbnQxLmxlbmd0aCA9PSAwXHJcblx0XHRcdHRhcmdldCA9IF8uc2FtcGxlIGZyb250MFxyXG5cdFx0XHRyZXR1cm4gW3N0YXJ0LCB0YXJnZXQsIGZpbmRTb2x1dGlvbigpXVxyXG5cdFx0ZWxzZSBmcm9udDAgPSBmcm9udDFcclxuXHRcdHRhcmdldCA9IF8uc2FtcGxlIGZyb250MVxyXG5cdCMgZWNobyByZWFjaGVkXHJcblx0W3N0YXJ0LCB0YXJnZXQsIGZpbmRTb2x1dGlvbigpXVxyXG5cclxudDAgPSBwZXJmb3JtYW5jZS5ub3coKVxyXG5bc3RhcnQsdGFyZ2V0LHNvbHV0aW9uXSA9IGNyZWF0ZVByb2JsZW0gNFxyXG50MSA9IHBlcmZvcm1hbmNlLm5vdygpXHJcbmVjaG8gXCJzb2x1dGlvbjpcIiwgc29sdXRpb25cclxuXHJcbnBlcmZvcm1hbmNlLm5vdygpXHJcbmVjaG8gJ3Byb2JsZW0gY3JlYXRlZCBpbicsICh0MSAtIHQwKSwgJ3MnXHJcbmVjaG8gXCIje2tleXgoc3RhcnQpfSB0byAje2tleXgodGFyZ2V0KX1cIlxyXG5wbGF5ZXIxID0gbmV3IFBsYXllciBzdGFydFxyXG5wbGF5ZXIyID0gbmV3IFBsYXllciBzdGFydFxyXG4gIFxyXG5tb3VudCBcImFwcFwiLCBcclxuXHRkaXYge3N0eWxlOlwiZGlzcGxheTpmbGV4OyBnYXA6MjBweDtcIn0sXHJcblx0XHRwbGF5ZXIxLnJlbmRlcigpXHJcblx0XHRwbGF5ZXIyLnJlbmRlcigpXHJcbiJdfQ==
//# sourceURL=c:\github\2026\005-shortcut2D\sketch.coffee