// Generated by CoffeeScript 2.7.0
var D, N, Player, checkEnd, createProblem, echo, keyx, level, pendingLevel, perfectPath, player1, player2, pressed, range, remount, renderHints, renderMoves, requiredMoves, showResults, solution, startLevel, target;

import {
  mount,
  button,
  div,
  span,
  table,
  tr,
  td
} from "https://cdn.jsdelivr.net/gh/sigmentjs/sigment-ng@1.3.4/dist/index.js";

import _ from "https://cdn.jsdelivr.net/npm/lodash-es@4.17.21/lodash.js";

N = 8;

D = [[-2, 1], [-1, 2], [1, 2], [2, 1], [-2, -1], [-1, -2], [1, -2], [2, -1]];

echo = console.log;

range = _.range;

pressed = new Set();

player1 = null;

player2 = null;

level = 1;

showResults = false;

pendingLevel = null;

solution = "";

requiredMoves = 0;

perfectPath = [];

target = null;

//##########################
Player = class Player {
  constructor(curr1, letters) {
    this.curr = curr1;
    this.letters = letters;
    this.board = this.rboard();
    this.history = [this.curr];
  }

  letter(i, j) {
    var dx, dy, idx, k, len, ref, x, y;
    ref = range(D.length);
    for (k = 0, len = ref.length; k < len; k++) {
      idx = ref[k];
      [dx, dy] = D[idx];
      [x, y] = this.curr;
      if (_.isEqual([i, j], [x + dx, y + dy])) {
        return this.letters[idx];
      }
    }
    return "";
  }

  rboard() {
    var base, i, j, style;
    return table({
      style: "text-align:center;"
    }, (function() {
      var k, len, ref, results;
      ref = range(N - 1, -1, -1);
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        j = ref[k];
        results.push(tr({}, td({
          style: "text-align:center;"
        }, `${(j + 1) % 10}`), (function() {
          var l, len1, ref1, results1;
          ref1 = range(N);
          results1 = [];
          for (l = 0, len1 = ref1.length; l < len1; l++) {
            i = ref1[l];
            base = (i + j) % 2 === 0 ? "#b58863" : "#f0d9b5";
            style = _.isEqual([i, j], this.curr) ? "background:red; color:white; text-align:center;" : _.isEqual([i, j], target) ? "background:green; color:white; text-align:center;" : `background:${base}; text-align:center;`;
            results1.push(td({style}, this.letter(i, j)));
          }
          return results1;
        }).call(this)));
      }
      return results;
    }).call(this), tr({}, (function() {
      var k, len, ref, results;
      ref = range(N + 1);
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        i = ref[k];
        results.push(td({
          style: "text-align:center;"
        }, " abcdefgh"[i]));
      }
      return results;
    })()));
  }

  update(idx) {
    var dx, dy, x, xdx, y, ydy;
    if (idx === 8) {
      return this.undo();
    }
    [dx, dy] = D[idx];
    [x, y] = this.curr;
    xdx = x + dx;
    ydy = y + dy;
    if ((0 <= xdx && xdx < N) && (0 <= ydy && ydy < N)) {
      this.history.push(this.curr);
      this.curr = [xdx, ydy];
      return this.board = this.rboard();
    }
  }

  undo() {
    if (this.history.length === 0) {
      return;
    }
    this.curr = this.history.pop();
    return this.board = this.rboard();
  }

  reached() {
    return _.isEqual(this.curr, target);
  }

  movesTaken() {
    return this.history.length - 1;
  }

  pathArray() {
    var path;
    path = this.history.slice(1);
    path.push(this.curr);
    return path.map(keyx);
  }

  reset(curr1) {
    this.curr = curr1;
    this.history = [this.curr];
    return this.board = this.rboard();
  }

  render() {
    return div({}, this.board, div({
      style: "text-align:center; color:red;"
    }, div({}, keyx(this.curr)), div({
      style: "color:black;"
    }, () => {
      return requiredMoves - this.history.length;
    })));
  }

};

keyx = function([x, y]) {
  return "abcdefgh"[x] + "12345678"[y];
};

renderMoves = function(moves) {
  var move;
  return div({
    style: "display:flex; flex-direction:column; gap:2px; min-width:36px; text-align:center;"
  }, (function() {
    var k, len, results;
    results = [];
    for (k = 0, len = moves.length; k < len; k++) {
      move = moves[k];
      results.push(div({
        style: "text-align:center;"
      }, move));
    }
    return results;
  })());
};

renderHints = function() {
  var i, style0, style1, style2;
  style0 = "text-align:center; padding:2px 6px;";
  style1 = style0 + "border-bottom:1px solid #999; font-weight:bold;";
  style2 = style0 + "border-bottom:1px solid #ddd;";
  return div({}, div({
    style: "text-align:center;"
  }, () => {
    return span({
      style: "color:green;"
    }, `${keyx(target)}`);
  }), table({
    style: "border-collapse:collapse;"
  }, tr({
    style: style1
  }, td({}, "1"), td({}, "dx"), td({}, "dy"), td({}, "2")), (function() {
    var k, len, ref, results;
    ref = range(D.length);
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      results.push(tr({
        style: style2
      }, td({}, `${player1.letters[i]}`), td({}, `${D[i][0]}`), td({}, `${D[i][1]}`), td({}, `${player2.letters[i]}`)));
    }
    return results;
  })(), tr({}, td({
    style: style0
  }, "X"), td({
    style: style0,
    colspan: 2
  }, "undo"), td({
    style: style0
  }, "M")), tr({}, td({
    style: style0,
    colspan: 4
  }, "new : space"))));
};

createProblem = function(level) {
  var dx, dy, findSolution, front0, front1, k, key, len, reached, start, t, x, x0, y, y0;
  findSolution = function(t, reached) {
    var curr, path;
    path = [];
    curr = keyx(t);
    while (curr !== 'start') {
      path.push(curr);
      curr = reached[curr];
    }
    path.reverse();
    return path.join(' ');
  };
  start = [_.random(0, N - 1), _.random(0, N - 1)];
  reached = {};
  reached[keyx(start)] = 'start';
  front0 = [start];
  while (level > 0) {
    level = level - 1;
    front1 = [];
    for (k = 0, len = front0.length; k < len; k++) {
      [x0, y0] = front0[k];
      for (key in D) {
        [dx, dy] = D[key];
        [x, y] = [x0 + dx, y0 + dy];
        if ((0 <= x && x < N) && (0 <= y && y < N) && !reached[keyx([x, y])]) {
          reached[keyx([x, y])] = keyx([x0, y0]);
          front1.push([x, y]);
        }
      }
    }
    if (front1.length === 0) {
      t = _.sample(front0);
      return [start, t, findSolution(t, reached)];
    } else {
      front0 = front1;
    }
    t = _.sample(front1);
  }
  return [start, t, findSolution(t, reached)];
};

startLevel = function(newLevel) {
  var lvl, start, t;
  lvl = Math.max(1, newLevel);
  [start, t, solution] = createProblem(lvl);
  target = t;
  perfectPath = solution.trim().length === 0 ? [] : solution.split(' ');
  requiredMoves = perfectPath.length; //if solution.trim().length == 0 then 0 else solution.split(' ').length # - 1
  echo(`Solution: ${solution}`, `Required moves: ${requiredMoves}`);
  echo('perfectPath', perfectPath);
  player1 = new Player(start, "QWERASDFX"); // X för undo
  player2 = new Player(start, "UIOPHJKLM"); // M för undo
  level = lvl;
  showResults = false;
  player1.reset(start);
  player2.reset(start);
  return pressed.clear();
};

checkEnd = function() {
  var p1Perfect, p2Perfect;
  if (!(player1.reached() && player2.reached())) {
    return;
  }
  p1Perfect = player1.movesTaken() === requiredMoves;
  p2Perfect = player2.movesTaken() === requiredMoves;
  pendingLevel = p1Perfect && p2Perfect ? level + 1 : level - 1;
  return showResults = true;
};

document.addEventListener('keydown', function(e) {
  var idx, isSpace, k, key, len, player, ref;
  key = e.key.toUpperCase();
  isSpace = e.code === 'Space' || key === ' ';
  if (showResults) {
    if (isSpace) {
      showResults = false;
      perfectPath = [];
      startLevel(pendingLevel);
    }
    remount();
    return;
  }
  if (pressed.has(key)) {
    return;
  }
  pressed.add(key);
  ref = [player1, player2];
  for (k = 0, len = ref.length; k < len; k++) {
    player = ref[k];
    idx = player.letters.indexOf(key);
    if (idx !== -1) {
      if (player.reached()) {
        remount();
        return;
      }
      player.update(idx);
      checkEnd();
      remount();
      return;
    }
  }
});

document.addEventListener('keyup', function(e) {
  return pressed.delete(e.key.toUpperCase());
});

remount = function() { // mount som kan upprepas
  var app;
  app = document.getElementById("app");
  return app.replaceChildren(div({}, div({
    style: "display:flex; gap:20px; align-items:flex-start"
  }, player1.render(), div({
    style: "display:flex; flex-direction:column; align-items:center; gap:8px"
  }, div({
    style: !showResults ? "display:flex; gap:16px" : "display:none"
  }, renderHints()), div({
    style: showResults ? "display:flex; gap:16px" : "display:none"
  }, div({}, renderMoves(player1.pathArray())), div({}, renderMoves(perfectPath)), div({}, renderMoves(player2.pathArray())))), player2.render())));
};

startLevel(level);

remount();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6IlxcIiwic291cmNlcyI6WyJza2V0Y2guY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsTUFBQSxFQUFBLFFBQUEsRUFBQSxhQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLFdBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLFdBQUEsRUFBQSxXQUFBLEVBQUEsYUFBQSxFQUFBLFdBQUEsRUFBQSxRQUFBLEVBQUEsVUFBQSxFQUFBOztBQUFBLE9BQUE7RUFBUyxLQUFUO0VBQWdCLE1BQWhCO0VBQXdCLEdBQXhCO0VBQTZCLElBQTdCO0VBQW1DLEtBQW5DO0VBQTBDLEVBQTFDO0VBQThDLEVBQTlDO0NBQUEsTUFBQTs7QUFDQSxPQUFPLENBQVAsTUFBQTs7QUFFQSxDQUFBLEdBQUk7O0FBRUosQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLENBQUYsRUFBSyxDQUFMLENBQUQsRUFBVSxDQUFDLENBQUMsQ0FBRixFQUFLLENBQUwsQ0FBVixFQUFtQixDQUFFLENBQUYsRUFBSyxDQUFMLENBQW5CLEVBQTRCLENBQUUsQ0FBRixFQUFLLENBQUwsQ0FBNUIsRUFBcUMsQ0FBQyxDQUFDLENBQUYsRUFBSSxDQUFDLENBQUwsQ0FBckMsRUFBOEMsQ0FBQyxDQUFDLENBQUYsRUFBSSxDQUFDLENBQUwsQ0FBOUMsRUFBdUQsQ0FBRSxDQUFGLEVBQUksQ0FBQyxDQUFMLENBQXZELEVBQWdFLENBQUUsQ0FBRixFQUFJLENBQUMsQ0FBTCxDQUFoRTs7QUFFSixJQUFBLEdBQU8sT0FBTyxDQUFDOztBQUNmLEtBQUEsR0FBUSxDQUFDLENBQUM7O0FBRVYsT0FBQSxHQUFVLElBQUksR0FBSixDQUFBOztBQUNWLE9BQUEsR0FBVTs7QUFDVixPQUFBLEdBQVU7O0FBQ1YsS0FBQSxHQUFR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QUFRLENBQUMsY0FBVCxDQUF3QixLQUF4QjtTQUNOLEdBQUcsQ0FBQyxlQUFKLENBQW9CLEdBQUEsQ0FBSSxDQUFBLENBQUosRUFDbkIsR0FBQSxDQUFJO0lBQUMsS0FBQSxFQUFNO0VBQVAsQ0FBSixFQUNDLE9BQU8sQ0FBQyxNQUFSLENBQUEsQ0FERCxFQUVDLEdBQUEsQ0FBSTtJQUFDLEtBQUEsRUFBTTtFQUFQLENBQUosRUFDQyxHQUFBLENBQUk7SUFBQyxLQUFBLEVBQVUsQ0FBSSxXQUFQLEdBQXdCLHdCQUF4QixHQUFzRDtFQUE5RCxDQUFKLEVBQ0MsV0FBQSxDQUFBLENBREQsQ0FERCxFQUdDLEdBQUEsQ0FBSTtJQUFDLEtBQUEsRUFBVSxXQUFILEdBQW9CLHdCQUFwQixHQUFrRDtFQUExRCxDQUFKLEVBQ0MsR0FBQSxDQUFJLENBQUEsQ0FBSixFQUFRLFdBQUEsQ0FBWSxPQUFPLENBQUMsU0FBUixDQUFBLENBQVosQ0FBUixDQURELEVBRUMsR0FBQSxDQUFJLENBQUEsQ0FBSixFQUFRLFdBQUEsQ0FBWSxXQUFaLENBQVIsQ0FGRCxFQUdDLEdBQUEsQ0FBSSxDQUFBLENBQUosRUFBUSxXQUFBLENBQVksT0FBTyxDQUFDLFNBQVIsQ0FBQSxDQUFaLENBQVIsQ0FIRCxDQUhELENBRkQsRUFTQyxPQUFPLENBQUMsTUFBUixDQUFBLENBVEQsQ0FEbUIsQ0FBcEI7QUFGUzs7QUFjVixVQUFBLENBQVcsS0FBWDs7QUFFQSxPQUFBLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtb3VudCwgYnV0dG9uLCBkaXYsIHNwYW4sIHRhYmxlLCB0ciwgdGQgfSBmcm9tIFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3NpZ21lbnRqcy9zaWdtZW50LW5nQDEuMy40L2Rpc3QvaW5kZXguanNcIlxuaW1wb3J0IF8gZnJvbSBcImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbG9kYXNoLWVzQDQuMTcuMjEvbG9kYXNoLmpzXCJcblxuTiA9IDhcblxuRCA9IFtbLTIsIDFdLCBbLTEsIDJdLCBbIDEsIDJdLCBbIDIsIDFdLCBbLTIsLTFdLCBbLTEsLTJdLCBbIDEsLTJdLCBbIDIsLTFdXVxuXG5lY2hvID0gY29uc29sZS5sb2dcbnJhbmdlID0gXy5yYW5nZVxuXG5wcmVzc2VkID0gbmV3IFNldCgpXG5wbGF5ZXIxID0gbnVsbFxucGxheWVyMiA9IG51bGxcbmxldmVsID0gMVxuc2hvd1Jlc3VsdHMgPSBmYWxzZVxucGVuZGluZ0xldmVsID0gbnVsbFxuXG5zb2x1dGlvbiA9IFwiXCJcbnJlcXVpcmVkTW92ZXMgPSAwXG5wZXJmZWN0UGF0aCA9IFtdXG50YXJnZXQgPSBudWxsXG5cbiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI1xuXG5jbGFzcyBQbGF5ZXJcblxuXHRjb25zdHJ1Y3RvcjogKEBjdXJyLCBAbGV0dGVycykgLT5cblx0XHRAYm9hcmQgPSBAcmJvYXJkKClcblx0XHRAaGlzdG9yeSA9IFtAY3Vycl0gXG5cblx0bGV0dGVyIDogKGksIGopIC0+XG5cdFx0Zm9yIGlkeCBpbiByYW5nZSBELmxlbmd0aFxuXHRcdFx0W2R4LCBkeV0gPSBEW2lkeF1cblx0XHRcdFt4LHldID0gQGN1cnJcblx0XHRcdGlmIF8uaXNFcXVhbCBbaSxqXSwgW3ggKyBkeCwgeSArIGR5XSB0aGVuIHJldHVybiBAbGV0dGVyc1tpZHhdXG5cdFx0XCJcIlxuXG5cdHJib2FyZCA6IC0+XG5cdFx0dGFibGUge3N0eWxlOlwidGV4dC1hbGlnbjpjZW50ZXI7XCJ9LFxuXHRcdFx0Zm9yIGogaW4gcmFuZ2UgTi0xLC0xLC0xXG5cdFx0XHRcdHRyIHt9LFxuXHRcdFx0XHRcdHRkIHtzdHlsZTpcInRleHQtYWxpZ246Y2VudGVyO1wifSwgXCIjeyhqICsgMSkgJSAxMH1cIlxuXHRcdFx0XHRcdGZvciBpIGluIHJhbmdlIE5cblx0XHRcdFx0XHRcdGJhc2UgPSBpZiAoaSArIGopICUgMiA9PSAwIHRoZW4gXCIjYjU4ODYzXCIgZWxzZSBcIiNmMGQ5YjVcIlxuXHRcdFx0XHRcdFx0c3R5bGUgPVxuXHRcdFx0XHRcdFx0XHRpZiBfLmlzRXF1YWwgW2ksal0sIEBjdXJyIHRoZW4gXCJiYWNrZ3JvdW5kOnJlZDsgY29sb3I6d2hpdGU7IHRleHQtYWxpZ246Y2VudGVyO1wiXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgXy5pc0VxdWFsIFtpLGpdLCB0YXJnZXQgdGhlbiBcImJhY2tncm91bmQ6Z3JlZW47IGNvbG9yOndoaXRlOyB0ZXh0LWFsaWduOmNlbnRlcjtcIlxuXHRcdFx0XHRcdFx0XHRlbHNlIFwiYmFja2dyb3VuZDoje2Jhc2V9OyB0ZXh0LWFsaWduOmNlbnRlcjtcIlxuXHRcdFx0XHRcdFx0dGQge3N0eWxlfSwgQGxldHRlciBpLGpcblx0XHRcdHRyIHt9LFxuXHRcdFx0XHRmb3IgaSBpbiByYW5nZSBOKzFcblx0XHRcdFx0XHR0ZCB7c3R5bGU6XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIn0sIFwiIGFiY2RlZmdoXCJbaV1cblxuXHR1cGRhdGUgOiAoaWR4KSAtPlxuXHRcdGlmIGlkeCA9PSA4IHRoZW4gcmV0dXJuIEB1bmRvKClcblx0XHRcblx0XHRbZHgsIGR5XSA9IERbaWR4XVxuXHRcdFt4LHldID0gQGN1cnJcblx0XHR4ZHggPSB4ICsgZHhcblx0XHR5ZHkgPSB5ICsgZHlcblxuXHRcdGlmIDAgPD0geGR4IDwgTiBhbmQgMCA8PSB5ZHkgPCBOXG5cdFx0XHRAaGlzdG9yeS5wdXNoIEBjdXJyXG5cdFx0XHRAY3VyciA9IFt4ZHgsIHlkeV1cblx0XHRcdEBib2FyZCAgPSBAcmJvYXJkKClcblxuXHR1bmRvIDogLT5cblx0XHRpZiBAaGlzdG9yeS5sZW5ndGggPT0gMCB0aGVuIHJldHVyblxuXHRcdEBjdXJyICA9IEBoaXN0b3J5LnBvcCgpXG5cdFx0QGJvYXJkID0gQHJib2FyZCgpXG5cblx0cmVhY2hlZCA6IC0+IF8uaXNFcXVhbCBAY3VyciwgdGFyZ2V0XG5cdG1vdmVzVGFrZW4gOiAtPiBAaGlzdG9yeS5sZW5ndGggLSAxXG5cdFx0XG5cdHBhdGhBcnJheSA6IC0+XG5cdFx0cGF0aCA9IEBoaXN0b3J5LnNsaWNlKDEpXG5cdFx0cGF0aC5wdXNoIEBjdXJyXG5cdFx0cGF0aC5tYXAga2V5eFxuXHRcdFxuXHRyZXNldCA6IChAY3VycikgLT5cblx0XHRAaGlzdG9yeSA9IFtAY3Vycl1cblx0XHRAYm9hcmQgPSBAcmJvYXJkKClcblx0XHRcblx0cmVuZGVyIDogLT5cblx0XHRkaXYge30sXG5cdFx0XHRAYm9hcmRcblx0XHRcdGRpdiB7c3R5bGU6XCJ0ZXh0LWFsaWduOmNlbnRlcjsgY29sb3I6cmVkO1wifSxcblx0XHRcdFx0ZGl2IHt9LCBrZXl4KEBjdXJyKVxuXHRcdFx0XHRkaXYge3N0eWxlOlwiY29sb3I6YmxhY2s7XCJ9LCA9PiByZXF1aXJlZE1vdmVzIC0gQGhpc3RvcnkubGVuZ3RoXG5cbmtleXggPSAoW3gseV0pIC0+IFwiYWJjZGVmZ2hcIlt4XSArIFwiMTIzNDU2NzhcIlt5XVxuXG5yZW5kZXJNb3ZlcyA9IChtb3ZlcykgLT5cblx0ZGl2IHtzdHlsZTpcImRpc3BsYXk6ZmxleDsgZmxleC1kaXJlY3Rpb246Y29sdW1uOyBnYXA6MnB4OyBtaW4td2lkdGg6MzZweDsgdGV4dC1hbGlnbjpjZW50ZXI7XCJ9LFxuXHRcdGZvciBtb3ZlIGluIG1vdmVzXG5cdFx0XHRkaXYge3N0eWxlOlwidGV4dC1hbGlnbjpjZW50ZXI7XCJ9LCBtb3ZlXG5cbnJlbmRlckhpbnRzID0gLT5cblx0c3R5bGUwID0gXCJ0ZXh0LWFsaWduOmNlbnRlcjsgcGFkZGluZzoycHggNnB4O1wiXG5cdHN0eWxlMSA9IHN0eWxlMCArIFwiYm9yZGVyLWJvdHRvbToxcHggc29saWQgIzk5OTsgZm9udC13ZWlnaHQ6Ym9sZDtcIlxuXHRzdHlsZTIgPSBzdHlsZTAgKyBcImJvcmRlci1ib3R0b206MXB4IHNvbGlkICNkZGQ7XCJcblx0ZGl2IHt9LFxuXHRcdGRpdiB7c3R5bGU6XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIn0sID0+XG5cdFx0XHRzcGFuIHtzdHlsZTpcImNvbG9yOmdyZWVuO1wifSwgXCIje2tleXgodGFyZ2V0KX1cIlxuXHRcdHRhYmxlIHtzdHlsZTpcImJvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtcIn0sXG5cdFx0XHR0ciB7c3R5bGU6IHN0eWxlMX0sXG5cdFx0XHRcdHRkIHt9LCBcIjFcIlxuXHRcdFx0XHR0ZCB7fSwgXCJkeFwiXG5cdFx0XHRcdHRkIHt9LCBcImR5XCJcblx0XHRcdFx0dGQge30sIFwiMlwiXG5cdFx0XHRmb3IgaSBpbiByYW5nZSBELmxlbmd0aFxuXHRcdFx0XHR0ciB7c3R5bGU6IHN0eWxlMn0sXG5cdFx0XHRcdFx0dGQge30sIFwiI3twbGF5ZXIxLmxldHRlcnNbaV19XCJcblx0XHRcdFx0XHR0ZCB7fSwgXCIje0RbaV1bMF19XCJcblx0XHRcdFx0XHR0ZCB7fSwgXCIje0RbaV1bMV19XCJcblx0XHRcdFx0XHR0ZCB7fSwgXCIje3BsYXllcjIubGV0dGVyc1tpXX1cIlxuXHRcdFx0dHIge30sXG5cdFx0XHRcdHRkIHtzdHlsZTogc3R5bGUwfSwgXCJYXCJcblx0XHRcdFx0dGQge3N0eWxlOiBzdHlsZTAsIGNvbHNwYW46Mn0sIFwidW5kb1wiXG5cdFx0XHRcdHRkIHtzdHlsZTogc3R5bGUwfSwgXCJNXCJcblx0XHRcdHRyIHt9LFxuXHRcdFx0XHR0ZCB7c3R5bGU6IHN0eWxlMCwgY29sc3Bhbjo0fSwgXCJuZXcgOiBzcGFjZVwiXG5cbmNyZWF0ZVByb2JsZW0gPSAobGV2ZWwpIC0+XG5cblx0ZmluZFNvbHV0aW9uID0gKHQsIHJlYWNoZWQpIC0+XG5cdFx0cGF0aCA9IFtdXG5cdFx0Y3VyciA9IGtleXggdFxuXHRcdHdoaWxlIGN1cnIgIT0gJ3N0YXJ0J1xuXHRcdFx0cGF0aC5wdXNoIGN1cnJcblx0XHRcdGN1cnIgPSByZWFjaGVkW2N1cnJdXG5cdFx0cGF0aC5yZXZlcnNlKClcblx0XHRwYXRoLmpvaW4gJyAnXG5cblx0c3RhcnQgPSBbXy5yYW5kb20oMCxOLTEpLCBfLnJhbmRvbSgwLE4tMSldXG5cdHJlYWNoZWQgPSB7fVxuXHRyZWFjaGVkW2tleXggc3RhcnRdID0gJ3N0YXJ0J1xuXHRmcm9udDAgPSBbc3RhcnRdXG5cdHdoaWxlIGxldmVsID4gMFxuXHRcdGxldmVsID0gbGV2ZWwgLSAxXG5cdFx0ZnJvbnQxID0gW11cblx0XHRmb3IgW3gwLHkwXSBpbiBmcm9udDBcblx0XHRcdGZvciBrZXkgb2YgRFxuXHRcdFx0XHRbZHgsIGR5XSA9IERba2V5XVxuXHRcdFx0XHRbeCwgeV0gPSBbeDAgKyBkeCwgeTAgKyBkeV1cblx0XHRcdFx0aWYgMCA8PSB4IDwgTiBhbmQgMCA8PSB5IDwgTiBhbmQgbm90IHJlYWNoZWRba2V5eCBbeCx5XV1cblx0XHRcdFx0XHRyZWFjaGVkW2tleXggW3gseV1dID0ga2V5eCBbeDAseTBdXG5cdFx0XHRcdFx0ZnJvbnQxLnB1c2ggW3gseV1cblx0XHRpZiBmcm9udDEubGVuZ3RoID09IDBcblx0XHRcdHQgPSBfLnNhbXBsZSBmcm9udDBcblx0XHRcdHJldHVybiBbc3RhcnQsIHQsIGZpbmRTb2x1dGlvbih0LCByZWFjaGVkKV1cblx0XHRlbHNlIGZyb250MCA9IGZyb250MVxuXHRcdHQgPSBfLnNhbXBsZSBmcm9udDFcblx0W3N0YXJ0LCB0LCBmaW5kU29sdXRpb24odCwgcmVhY2hlZCldXG5cbnN0YXJ0TGV2ZWwgPSAobmV3TGV2ZWwpIC0+XG5cdGx2bCA9IE1hdGgubWF4IDEsIG5ld0xldmVsXG5cdFtzdGFydCx0LHNvbHV0aW9uXSA9IGNyZWF0ZVByb2JsZW0gbHZsXG5cdHRhcmdldCAgPSB0XG5cdHBlcmZlY3RQYXRoID0gaWYgc29sdXRpb24udHJpbSgpLmxlbmd0aCA9PSAwIHRoZW4gW10gZWxzZSBzb2x1dGlvbi5zcGxpdCAnICdcblx0cmVxdWlyZWRNb3ZlcyA9IHBlcmZlY3RQYXRoLmxlbmd0aCAjaWYgc29sdXRpb24udHJpbSgpLmxlbmd0aCA9PSAwIHRoZW4gMCBlbHNlIHNvbHV0aW9uLnNwbGl0KCcgJykubGVuZ3RoICMgLSAxXG5cdGVjaG8gXCJTb2x1dGlvbjogI3tzb2x1dGlvbn1cIiwgXCJSZXF1aXJlZCBtb3ZlczogI3tyZXF1aXJlZE1vdmVzfVwiXG5cdGVjaG8gJ3BlcmZlY3RQYXRoJywgcGVyZmVjdFBhdGhcblxuXHRwbGF5ZXIxID0gbmV3IFBsYXllciBzdGFydCwgXCJRV0VSQVNERlhcIiAjIFggZsO2ciB1bmRvXG5cdHBsYXllcjIgPSBuZXcgUGxheWVyIHN0YXJ0LCBcIlVJT1BISktMTVwiICMgTSBmw7ZyIHVuZG9cblxuXHRsZXZlbCA9IGx2bFxuXHRzaG93UmVzdWx0cyA9IGZhbHNlXG5cdHBsYXllcjEucmVzZXQgc3RhcnRcblx0cGxheWVyMi5yZXNldCBzdGFydFxuXHRwcmVzc2VkLmNsZWFyKClcblxuY2hlY2tFbmQgPSAtPlxuXHRyZXR1cm4gdW5sZXNzIHBsYXllcjEucmVhY2hlZCgpIGFuZCBwbGF5ZXIyLnJlYWNoZWQoKVxuXHRwMVBlcmZlY3QgPSBwbGF5ZXIxLm1vdmVzVGFrZW4oKSA9PSByZXF1aXJlZE1vdmVzXG5cdHAyUGVyZmVjdCA9IHBsYXllcjIubW92ZXNUYWtlbigpID09IHJlcXVpcmVkTW92ZXNcblx0cGVuZGluZ0xldmVsID0gaWYgcDFQZXJmZWN0IGFuZCBwMlBlcmZlY3QgdGhlbiBsZXZlbCArIDEgZWxzZSBsZXZlbCAtIDFcblx0c2hvd1Jlc3VsdHMgPSB0cnVlXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgJ2tleWRvd24nLCAoZSkgLT5cblx0a2V5ID0gZS5rZXkudG9VcHBlckNhc2UoKVxuXHRpc1NwYWNlID0gZS5jb2RlID09ICdTcGFjZScgb3Iga2V5ID09ICcgJ1xuXHRpZiBzaG93UmVzdWx0c1xuXHRcdGlmIGlzU3BhY2Vcblx0XHRcdHNob3dSZXN1bHRzID0gZmFsc2Vcblx0XHRcdHBlcmZlY3RQYXRoID0gW11cblx0XHRcdHN0YXJ0TGV2ZWwgcGVuZGluZ0xldmVsXG5cdFx0cmVtb3VudCgpXG5cdFx0cmV0dXJuXG5cdHJldHVybiBpZiBwcmVzc2VkLmhhcyBrZXlcblx0cHJlc3NlZC5hZGQga2V5XG5cblx0Zm9yIHBsYXllciBpbiBbcGxheWVyMSxwbGF5ZXIyXVxuXHRcdGlkeCA9IHBsYXllci5sZXR0ZXJzLmluZGV4T2Yga2V5XG5cdFx0aWYgaWR4ICE9IC0xXG5cdFx0XHRpZiBwbGF5ZXIucmVhY2hlZCgpXG5cdFx0XHRcdHJlbW91bnQoKVxuXHRcdFx0XHRyZXR1cm5cblx0XHRcdHBsYXllci51cGRhdGUgaWR4XG5cdFx0XHRjaGVja0VuZCgpXG5cdFx0XHRyZW1vdW50KClcblx0XHRcdHJldHVyblxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICdrZXl1cCcsIChlKSAtPiBwcmVzc2VkLmRlbGV0ZSBlLmtleS50b1VwcGVyQ2FzZSgpXG5cbnJlbW91bnQgPSAtPiAjIG1vdW50IHNvbSBrYW4gdXBwcmVwYXNcblx0YXBwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBcIilcblx0YXBwLnJlcGxhY2VDaGlsZHJlbiBkaXYge30sXG5cdFx0ZGl2IHtzdHlsZTpcImRpc3BsYXk6ZmxleDsgZ2FwOjIwcHg7IGFsaWduLWl0ZW1zOmZsZXgtc3RhcnRcIn0sXG5cdFx0XHRwbGF5ZXIxLnJlbmRlcigpXG5cdFx0XHRkaXYge3N0eWxlOlwiZGlzcGxheTpmbGV4OyBmbGV4LWRpcmVjdGlvbjpjb2x1bW47IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjhweFwifSxcblx0XHRcdFx0ZGl2IHtzdHlsZTogaWYgbm90IHNob3dSZXN1bHRzIHRoZW4gXCJkaXNwbGF5OmZsZXg7IGdhcDoxNnB4XCIgZWxzZSBcImRpc3BsYXk6bm9uZVwifSxcblx0XHRcdFx0XHRyZW5kZXJIaW50cygpXG5cdFx0XHRcdGRpdiB7c3R5bGU6IGlmIHNob3dSZXN1bHRzIHRoZW4gXCJkaXNwbGF5OmZsZXg7IGdhcDoxNnB4XCIgZWxzZSBcImRpc3BsYXk6bm9uZVwifSxcblx0XHRcdFx0XHRkaXYge30sIHJlbmRlck1vdmVzIHBsYXllcjEucGF0aEFycmF5KClcblx0XHRcdFx0XHRkaXYge30sIHJlbmRlck1vdmVzIHBlcmZlY3RQYXRoXG5cdFx0XHRcdFx0ZGl2IHt9LCByZW5kZXJNb3ZlcyBwbGF5ZXIyLnBhdGhBcnJheSgpXG5cdFx0XHRwbGF5ZXIyLnJlbmRlcigpXG5cdFx0XG5zdGFydExldmVsIGxldmVsXG5cbnJlbW91bnQoKVxuIl19
//# sourceURL=c:\github\2026\005-shortcut2D\sketch.coffee