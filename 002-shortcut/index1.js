// Generated by CoffeeScript 2.7.0
var Player, TICK_HZ, TICK_MS, bindings, current0, current1, echo, enqueue, eventQueue, isDown, p1ScoreEl, p2ScoreEl, players, processEvent, setKeyUI, start, target, target0, target1, tick, updateScoresUI;

echo = console.log;

start = 17;

target = 6;

Player = class Player {
  constructor() {
    this.score = 0;
    this.history = [start];
  }

  add() {
    return this.history.push(_.last(this.history) + 2);
  }

  div() {
    if (_.last(this.history) % 2 === 0) {
      return this.history.push(_.last(this.history) / 2);
    }
  }

  mul() {
    return this.history.push(_.last(this.history) * 2);
  }

  undo() {
    if (this.history.length > 1) {
      return this.history.pop();
    }
  }

  ready() {
    return _.last(this.history) === target;
  }

};

while (true) {
  start = _.random(40);
  target = _.random(40);
  if (start !== target) {
    break;
  }
}

players = [];

players.push(new Player());

players.push(new Player());

bindings = {
  "KeyR": {
    player: 0,
    action: "R"
  },
  "KeyW": {
    player: 0,
    action: "W"
  },
  "KeyA": {
    player: 0,
    action: "A"
  },
  "KeyS": {
    player: 0,
    action: "S"
  },
  "KeyD": {
    player: 0,
    action: "D"
  },
  "KeyI": {
    player: 1,
    action: "I"
  },
  "KeyJ": {
    player: 1,
    action: "J"
  },
  "KeyK": {
    player: 1,
    action: "K"
  },
  "KeyL": {
    player: 1,
    action: "L"
  }
};

isDown = new Map(); // "KeyA" -> true/false (för att undvika auto-repeat-spam)

eventQueue = []; // kö av {type, code, t, player, action}

p1ScoreEl = document.getElementById("p1Score");

p2ScoreEl = document.getElementById("p2Score");

target0 = document.getElementById("target0");

target1 = document.getElementById("target1");

current0 = document.getElementById("current0");

current1 = document.getElementById("current1");

setKeyUI = function(player, action, down) {
  var el, id;
  id = `p${player}-${action}`;
  el = document.getElementById(id);
  if (!el) {
    return;
  }
  return el.classList.toggle("down", down);
};

updateScoresUI = function() {
  target0.textContent = `${start} to ${target}`;
  target1.textContent = `${start} to ${target}`;
  current0.textContent = _.last(players[0].history);
  current1.textContent = _.last(players[1].history);
  p1ScoreEl.textContent = `${_.last(players[0].history)}`;
  return p2ScoreEl.textContent = `${_.last(players[1].history)}`;
};

// --- Event-registrering: lägg ALLT i kö ---
enqueue = function(evtType, e) {
  var b;
  b = bindings[e.code];
  if (!b) {
    return;
  }
  // Hantera auto-repeat: vi vill normalt endast 1 "keydown" per nedtryckning.
  if (evtType === "down") {
    if (e.repeat) { // skyddar mot att hålla nere en tangent och få 30 events/s
      return;
    }
    if (isDown.get(e.code)) {
      return;
    }
    isDown.set(e.code, true);
  } else if (evtType === "up") {
    isDown.set(e.code, false);
  }
  return eventQueue.push({
    type: evtType,
    code: e.code,
    t: performance.now(),
    player: b.player,
    action: b.action
  });
};

window.addEventListener("keydown", ((e) => {
  
  // För spel: undvik att webbläsaren scrollar etc (t.ex. med space/arrow om du lägger till dem).
  if (bindings[e.code]) {
    e.preventDefault();
  }
  return enqueue("down", e);
}), {
  passive: false
});

window.addEventListener("keyup", ((e) => {
  if (bindings[e.code]) {
    e.preventDefault();
  }
  return enqueue("up", e);
}), {
  passive: false
});

// Bra att nollställa om tabben tappar fokus (annars kan "stuck keys" uppstå).
window.addEventListener("blur", () => {
  var code, results;
  results = [];
  for (code in isDown.keys()) {
    results.push(isDown.set(code, false));
  }
  return results;
});

// --- Game loop: töm kö och uppdatera spel ---
TICK_HZ = 60;

TICK_MS = 1000 / TICK_HZ;

processEvent = function(ev) {
  var last, p;
  if (ev.type === "down") {
    p = players[ev.player];
    last = _.last(p.history);
    if (players[0].ready() || players[1].ready()) {
      if ("R" === ev.action) {
        while (true) {
          start = _.random(20);
          target = _.random(20);
          if (start !== target) {
            break;
          }
        }
        players[0].history = [start];
        return players[1].history = [start];
      }
    } else {
      if ("WI".includes(ev.action)) {
        p.undo();
      }
      if ("AJ".includes(ev.action)) {
        p.div(); //p.history.push last / 2
      }
      if ("SK".includes(ev.action)) {
        p.add(); //p.history.push last + 2
      }
      if ("DL".includes(ev.action)) {
        p.mul(); // p.history.push last * 2
      }
      // echo ev.action
      return setKeyUI(ev.player, ev.action, true);
    }
  } else if (ev.type === "up") {
    return setKeyUI(ev.player, ev.action, false);
  }
};

// appendLog "#{ev.t.toFixed(2)}ms	P#{ev.player} #{ev.action}	#{ev.type.toUpperCase()} (#{ev.code})"
tick = function() {
  var ev;
  // Töm hela kön varje tick (om du vill begränsa kan du ta max N per tick).
  while (eventQueue.length > 0) {
    ev = eventQueue.shift();
    processEvent(ev);
  }
  return updateScoresUI();
};

setInterval(tick, TICK_MS);

updateScoresUI();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgxLmpzIiwic291cmNlUm9vdCI6IlxcIiwic291cmNlcyI6WyJpbmRleDEuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLE1BQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLElBQUEsRUFBQSxPQUFBLEVBQUEsVUFBQSxFQUFBLE1BQUEsRUFBQSxTQUFBLEVBQUEsU0FBQSxFQUFBLE9BQUEsRUFBQSxZQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUE7O0FBQUEsSUFBQSxHQUFPLE9BQU8sQ0FBQzs7QUFFZixLQUFBLEdBQVE7O0FBQ1IsTUFBQSxHQUFTOztBQUVILFNBQU4sTUFBQSxPQUFBO0VBQ0MsV0FBYyxDQUFBLENBQUE7SUFDYixJQUFDLENBQUEsS0FBRCxHQUFTO0lBQ1QsSUFBQyxDQUFBLE9BQUQsR0FBVyxDQUFDLEtBQUQ7RUFGRTs7RUFJZCxHQUFNLENBQUEsQ0FBQTtXQUFHLElBQUMsQ0FBQSxPQUFPLENBQUMsSUFBVCxDQUFjLENBQUMsQ0FBQyxJQUFGLENBQU8sSUFBQyxDQUFBLE9BQVIsQ0FBQSxHQUFtQixDQUFqQztFQUFIOztFQUNOLEdBQU0sQ0FBQSxDQUFBO0lBQUcsSUFBRyxDQUFDLENBQUMsSUFBRixDQUFPLElBQUMsQ0FBQSxPQUFSLENBQUEsR0FBbUIsQ0FBbkIsS0FBd0IsQ0FBM0I7YUFBa0MsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWMsQ0FBQyxDQUFDLElBQUYsQ0FBTyxJQUFDLENBQUEsT0FBUixDQUFBLEdBQW1CLENBQWpDLEVBQWxDOztFQUFIOztFQUNOLEdBQU0sQ0FBQSxDQUFBO1dBQUcsSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWMsQ0FBQyxDQUFDLElBQUYsQ0FBTyxJQUFDLENBQUEsT0FBUixDQUFBLEdBQW1CLENBQWpDO0VBQUg7O0VB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QyxNQUF2QixFQUErQixLQUEvQixFQURJOztBQW5CUyxFQXZHZjs7O0FBK0hBLElBQUEsR0FBTyxRQUFBLENBQUEsQ0FBQTtBQUNQLE1BQUEsRUFBQTs7QUFDQyxTQUFNLFVBQVUsQ0FBQyxNQUFYLEdBQW9CLENBQTFCO0lBQ0MsRUFBQSxHQUFLLFVBQVUsQ0FBQyxLQUFYLENBQUE7SUFDTCxZQUFBLENBQWEsRUFBYjtFQUZEO1NBR0EsY0FBQSxDQUFBO0FBTE07O0FBT1AsV0FBQSxDQUFZLElBQVosRUFBa0IsT0FBbEI7O0FBRUEsY0FBQSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiZWNobyA9IGNvbnNvbGUubG9nIFxyXG5cclxuc3RhcnQgPSAxN1xyXG50YXJnZXQgPSA2XHJcblxyXG5jbGFzcyBQbGF5ZXJcclxuXHRjb25zdHJ1Y3RvciA6IC0+XHJcblx0XHRAc2NvcmUgPSAwXHJcblx0XHRAaGlzdG9yeSA9IFtzdGFydF1cclxuXHJcblx0YWRkIDogLT4gQGhpc3RvcnkucHVzaCBfLmxhc3QoQGhpc3RvcnkpICsgMlx0XHJcblx0ZGl2IDogLT4gaWYgXy5sYXN0KEBoaXN0b3J5KSAlIDIgPT0gMCB0aGVuIEBoaXN0b3J5LnB1c2ggXy5sYXN0KEBoaXN0b3J5KSAvIDJcdFxyXG5cdG11bCA6IC0+IEBoaXN0b3J5LnB1c2ggXy5sYXN0KEBoaXN0b3J5KSAqIDJcdFxyXG5cdHVuZG86IC0+IGlmIEBoaXN0b3J5Lmxlbmd0aCA+IDEgdGhlbiBAaGlzdG9yeS5wb3AoKVxyXG5cdHJlYWR5IDogLT4gXy5sYXN0KEBoaXN0b3J5KSA9PSB0YXJnZXRcclxuXHJcbndoaWxlIHRydWVcclxuXHRzdGFydCA9IF8ucmFuZG9tIDQwXHJcblx0dGFyZ2V0ID0gXy5yYW5kb20gNDBcclxuXHRpZiBzdGFydCAhPSB0YXJnZXQgdGhlbiBicmVha1xyXG5cclxucGxheWVycyA9IFtdXHJcbnBsYXllcnMucHVzaCBuZXcgUGxheWVyXHJcbnBsYXllcnMucHVzaCBuZXcgUGxheWVyXHJcblxyXG5iaW5kaW5ncyA9IHtcclxuXHRcIktleVJcIjogeyBwbGF5ZXI6IDAsIGFjdGlvbjogXCJSXCIgfSxcclxuXHRcIktleVdcIjogeyBwbGF5ZXI6IDAsIGFjdGlvbjogXCJXXCIgfSxcclxuXHRcIktleUFcIjogeyBwbGF5ZXI6IDAsIGFjdGlvbjogXCJBXCIgfSxcclxuXHRcIktleVNcIjogeyBwbGF5ZXI6IDAsIGFjdGlvbjogXCJTXCIgfSxcclxuXHRcIktleURcIjogeyBwbGF5ZXI6IDAsIGFjdGlvbjogXCJEXCIgfSxcclxuXHJcblx0XCJLZXlJXCI6IHsgcGxheWVyOiAxLCBhY3Rpb246IFwiSVwiIH0sXHJcblx0XCJLZXlKXCI6IHsgcGxheWVyOiAxLCBhY3Rpb246IFwiSlwiIH0sXHJcblx0XCJLZXlLXCI6IHsgcGxheWVyOiAxLCBhY3Rpb246IFwiS1wiIH0sXHJcblx0XCJLZXlMXCI6IHsgcGxheWVyOiAxLCBhY3Rpb246IFwiTFwiIH0sXHJcbn1cclxuXHJcbmlzRG93biA9IG5ldyBNYXAoKVx0XHQjIFwiS2V5QVwiIC0+IHRydWUvZmFsc2UgKGbDtnIgYXR0IHVuZHZpa2EgYXV0by1yZXBlYXQtc3BhbSlcclxuZXZlbnRRdWV1ZSA9IFtdXHRcdCMga8O2IGF2IHt0eXBlLCBjb2RlLCB0LCBwbGF5ZXIsIGFjdGlvbn1cclxuXHJcbnAxU2NvcmVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwicDFTY29yZVwiXHJcbnAyU2NvcmVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkIFwicDJTY29yZVwiXHJcbnRhcmdldDAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcInRhcmdldDBcIlxyXG50YXJnZXQxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQgXCJ0YXJnZXQxXCJcclxuY3VycmVudDAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcImN1cnJlbnQwXCJcclxuY3VycmVudDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcImN1cnJlbnQxXCJcclxuXHJcbnNldEtleVVJID0gKHBsYXllciwgYWN0aW9uLCBkb3duKSAtPlxyXG5cdGlkID0gXCJwI3twbGF5ZXJ9LSN7YWN0aW9ufVwiXHJcblx0ZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBpZFxyXG5cdGlmICFlbCB0aGVuIHJldHVyblxyXG5cdGVsLmNsYXNzTGlzdC50b2dnbGUgXCJkb3duXCIsIGRvd25cclxuXHJcbnVwZGF0ZVNjb3Jlc1VJID0gLT5cclxuXHR0YXJnZXQwLnRleHRDb250ZW50ID0gXCIje3N0YXJ0fSB0byAje3RhcmdldH1cIlxyXG5cdHRhcmdldDEudGV4dENvbnRlbnQgPSBcIiN7c3RhcnR9IHRvICN7dGFyZ2V0fVwiXHJcblx0Y3VycmVudDAudGV4dENvbnRlbnQgPSBfLmxhc3QgcGxheWVyc1swXS5oaXN0b3J5XHJcblx0Y3VycmVudDEudGV4dENvbnRlbnQgPSBfLmxhc3QgcGxheWVyc1sxXS5oaXN0b3J5XHJcblx0cDFTY29yZUVsLnRleHRDb250ZW50ID0gXCIje18ubGFzdCBwbGF5ZXJzWzBdLmhpc3Rvcnl9XCJcclxuXHRwMlNjb3JlRWwudGV4dENvbnRlbnQgPSBcIiN7Xy5sYXN0IHBsYXllcnNbMV0uaGlzdG9yeX1cIlxyXG5cclxuIyAtLS0gRXZlbnQtcmVnaXN0cmVyaW5nOiBsw6RnZyBBTExUIGkga8O2IC0tLVxyXG5lbnF1ZXVlID0gKGV2dFR5cGUsIGUpIC0+XHJcblx0YiA9IGJpbmRpbmdzW2UuY29kZV1cclxuXHRpZiAhYiB0aGVuIHJldHVyblxyXG5cclxuXHQjIEhhbnRlcmEgYXV0by1yZXBlYXQ6IHZpIHZpbGwgbm9ybWFsdCBlbmRhc3QgMSBcImtleWRvd25cIiBwZXIgbmVkdHJ5Y2tuaW5nLlxyXG5cdGlmIGV2dFR5cGUgPT0gXCJkb3duXCJcclxuXHRcdGlmIGUucmVwZWF0IHRoZW4gcmV0dXJuICMgc2t5ZGRhciBtb3QgYXR0IGjDpWxsYSBuZXJlIGVuIHRhbmdlbnQgb2NoIGbDpSAzMCBldmVudHMvc1xyXG5cdFx0aWYgaXNEb3duLmdldCBlLmNvZGUgdGhlbiByZXR1cm5cclxuXHRcdGlzRG93bi5zZXQgZS5jb2RlLCB0cnVlXHJcblx0ZWxzZSBpZiBldnRUeXBlID09IFwidXBcIlxyXG5cdFx0aXNEb3duLnNldCBlLmNvZGUsIGZhbHNlXHJcblxyXG5cdGV2ZW50UXVldWUucHVzaCB7XHJcblx0XHR0eXBlOiBldnRUeXBlLFxyXG5cdFx0Y29kZTogZS5jb2RlLFxyXG5cdFx0dDogcGVyZm9ybWFuY2Uubm93KCksXHJcblx0XHRwbGF5ZXI6IGIucGxheWVyLFxyXG5cdFx0YWN0aW9uOiBiLmFjdGlvblxyXG5cdH1cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyIFwia2V5ZG93blwiLCAoKGUpID0+IFxyXG5cdCMgRsO2ciBzcGVsOiB1bmR2aWsgYXR0IHdlYmJsw6RzYXJlbiBzY3JvbGxhciBldGMgKHQuZXguIG1lZCBzcGFjZS9hcnJvdyBvbSBkdSBsw6RnZ2VyIHRpbGwgZGVtKS5cclxuXHRpZiBiaW5kaW5nc1tlLmNvZGVdIHRoZW4gZS5wcmV2ZW50RGVmYXVsdCgpXHJcblx0ZW5xdWV1ZShcImRvd25cIiwgZSkpLFxyXG5cdHsgcGFzc2l2ZTogZmFsc2UgfVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIgXCJrZXl1cFwiLCAoKGUpID0+IFxyXG5cdGlmIChiaW5kaW5nc1tlLmNvZGVdKSB0aGVuIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRlbnF1ZXVlIFwidXBcIiwgZSksXHJcblx0eyBwYXNzaXZlOiBmYWxzZSB9XHJcblxyXG4jIEJyYSBhdHQgbm9sbHN0w6RsbGEgb20gdGFiYmVuIHRhcHBhciBmb2t1cyAoYW5uYXJzIGthbiBcInN0dWNrIGtleXNcIiB1cHBzdMOlKS5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIgXCJibHVyXCIsICA9PiBcclxuXHRmb3IgY29kZSBvZiBpc0Rvd24ua2V5cygpXHJcblx0XHRpc0Rvd24uc2V0IGNvZGUsIGZhbHNlXHJcblxyXG4jIC0tLSBHYW1lIGxvb3A6IHTDtm0ga8O2IG9jaCB1cHBkYXRlcmEgc3BlbCAtLS1cclxuVElDS19IWiA9IDYwO1xyXG5USUNLX01TID0gMTAwMCAvIFRJQ0tfSFo7XHJcblxyXG5wcm9jZXNzRXZlbnQgPSAoZXYpIC0+XHJcblx0aWYgZXYudHlwZSA9PSBcImRvd25cIlxyXG5cdFx0cCA9IHBsYXllcnNbZXYucGxheWVyXVxyXG5cdFx0bGFzdCA9IF8ubGFzdCBwLmhpc3RvcnlcclxuXHRcdGlmIHBsYXllcnNbMF0ucmVhZHkoKSBvciBwbGF5ZXJzWzFdLnJlYWR5KClcclxuXHRcdFx0aWYgXCJSXCIgPT0gZXYuYWN0aW9uXHJcblx0XHRcdFx0d2hpbGUgdHJ1ZVxyXG5cdFx0XHRcdFx0c3RhcnQgPSBfLnJhbmRvbSAyMFxyXG5cdFx0XHRcdFx0dGFyZ2V0ID0gXy5yYW5kb20gMjBcclxuXHRcdFx0XHRcdGlmIHN0YXJ0ICE9IHRhcmdldCB0aGVuIGJyZWFrXHJcblx0XHRcdFx0cGxheWVyc1swXS5oaXN0b3J5ID0gW3N0YXJ0XVxyXG5cdFx0XHRcdHBsYXllcnNbMV0uaGlzdG9yeSA9IFtzdGFydF1cclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgXCJXSVwiLmluY2x1ZGVzKGV2LmFjdGlvbikgdGhlbiBwLnVuZG8oKSBcclxuXHRcdFx0aWYgXCJBSlwiLmluY2x1ZGVzKGV2LmFjdGlvbikgdGhlbiBwLmRpdigpICNwLmhpc3RvcnkucHVzaCBsYXN0IC8gMlxyXG5cdFx0XHRpZiBcIlNLXCIuaW5jbHVkZXMgZXYuYWN0aW9uIHRoZW4gcC5hZGQoKSAjcC5oaXN0b3J5LnB1c2ggbGFzdCArIDJcclxuXHRcdFx0aWYgXCJETFwiLmluY2x1ZGVzIGV2LmFjdGlvbiB0aGVuIHAubXVsKCkgIyBwLmhpc3RvcnkucHVzaCBsYXN0ICogMlxyXG5cdFx0IyBlY2hvIGV2LmFjdGlvblxyXG5cdFx0XHRzZXRLZXlVSSBldi5wbGF5ZXIsIGV2LmFjdGlvbiwgdHJ1ZVxyXG5cdGVsc2UgaWYgZXYudHlwZSA9PSBcInVwXCJcclxuXHRcdHNldEtleVVJIGV2LnBsYXllciwgZXYuYWN0aW9uLCBmYWxzZVxyXG5cclxuXHQjIGFwcGVuZExvZyBcIiN7ZXYudC50b0ZpeGVkKDIpfW1zXHRQI3tldi5wbGF5ZXJ9ICN7ZXYuYWN0aW9ufVx0I3tldi50eXBlLnRvVXBwZXJDYXNlKCl9ICgje2V2LmNvZGV9KVwiXHJcblxyXG50aWNrID0gLT5cclxuXHQjIFTDtm0gaGVsYSBrw7ZuIHZhcmplIHRpY2sgKG9tIGR1IHZpbGwgYmVncsOkbnNhIGthbiBkdSB0YSBtYXggTiBwZXIgdGljaykuXHJcblx0d2hpbGUgZXZlbnRRdWV1ZS5sZW5ndGggPiAwXHJcblx0XHRldiA9IGV2ZW50UXVldWUuc2hpZnQoKVxyXG5cdFx0cHJvY2Vzc0V2ZW50IGV2XHJcblx0dXBkYXRlU2NvcmVzVUkoKVxyXG5cclxuc2V0SW50ZXJ2YWwgdGljaywgVElDS19NU1xyXG5cclxudXBkYXRlU2NvcmVzVUkoKVxyXG4iXX0=
//# sourceURL=c:\github\2026\002-shortcut\index1.coffee